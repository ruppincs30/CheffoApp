{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Shachar\\\\Desktop\\\\P\\\\reactHomeals\\\\screens\\\\FriendsScreen.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport PaperButton from \"../components/Button\";\nimport { Text, Card } from 'react-native-paper';\nimport { SimpleLineIcons, AntDesign, Ionicons, Feather, MaterialCommunityIcons, FontAwesome5 } from '@expo/vector-icons';\nimport BackButton from \"../components/BackButton\";\nimport { useUserContext } from \"../src/UserContext\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { createMaterialBottomTabNavigator } from '@react-navigation/material-bottom-tabs';\nimport FriendCard from \"../components/FriendCard\";\nimport { SearchBar } from 'react-native-elements';\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport { toString } from 'ol/transform';\n\nvar FriendsScreen = function FriendsScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useUserContext = useUserContext(),\n      currentChefDishes = _useUserContext.currentChefDishes,\n      currentChef = _useUserContext.currentChef,\n      cart = _useUserContext.cart,\n      setOrder = _useUserContext.setOrder,\n      friendsSuggestion = _useUserContext.friendsSuggestion,\n      friendsArrDetails = _useUserContext.friendsArrDetails,\n      allUsers = _useUserContext.allUsers,\n      loading = _useUserContext.loading;\n\n  var Tab = createMaterialBottomTabNavigator();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      localFriendsArr = _useState2[0],\n      setLocalFriendsArr = _useState2[1];\n\n  useEffect(function () {\n    if (friendsArrDetails) {\n      setLocalFriendsArr(friendsArrDetails);\n    }\n  }, [friendsArrDetails]);\n\n  function ShowFriends() {\n    var _this2 = this;\n\n    return loading ? React.createElement(View, {\n      style: {\n        marginTop: \"15%\",\n        flex: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: {\n        marginLeft: \"3%\",\n        position: 'absolute',\n        flex: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }\n    }, React.createElement(AntDesign, {\n      onPress: function onPress() {\n        navigation.reset({\n          index: 0,\n          routes: [{\n            name: 'Dashboard'\n          }]\n        });\n      },\n      name: \"arrowleft\",\n      size: 25,\n      color: \"black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 25\n      }\n    })), React.createElement(Text, {\n      style: {\n        marginTop: \"3%\",\n        marginBottom: \"5%\",\n        textAlign: 'center',\n        fontFamily: 'sans-serif-light',\n        color: \"#3ec92d\",\n        fontSize: 22\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }\n    }, \"My Friends\"), React.createElement(ScrollView, {\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }\n    }, localFriendsArr ? localFriendsArr.map(function (item, key) {\n      return React.createElement(FriendCard, {\n        key: key,\n        friendData: item,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 29\n        }\n      });\n    }) : React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 29\n      }\n    }, \"You have no friends yet\"))) : React.createElement(Image, {\n      source: require(\"../assets/eatstreet-loading.gif\"),\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    });\n  }\n\n  var myData = [].concat(friendsSuggestion).sort(function (a, b) {\n    return a.score < b.score ? 1 : -1;\n  });\n\n  function ShowSuggestions() {\n    var _this3 = this;\n\n    var _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        search = _useState4[0],\n        setSearch = _useState4[1];\n\n    var _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        searchResult = _useState6[0],\n        setSearchResult = _useState6[1];\n\n    function updateSearch(searchVal) {\n      setSearch(searchVal);\n      setSearchResult([]);\n      var results = [];\n\n      if (searchVal) {\n        allUsers.forEach(function (currUser) {\n          var fullName = currUser.firstName + ' ' + currUser.lastName;\n          fullName.toLowerCase().includes(searchVal.toLowerCase()) ? results.push(currUser) : null;\n        });\n      }\n\n      setSearchResult(results);\n    }\n\n    ;\n    return loading ? React.createElement(View, {\n      style: {\n        marginTop: \"5%\",\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, React.createElement(SearchBar, {\n      containerStyle: {\n        width: \"100%\",\n        padding: \"1.5%\",\n        marginTop: \"6%\",\n        backgroundColor: \"rgb(248,248,248 / 0%)\"\n      },\n      lightTheme: true,\n      round: \"true\",\n      placeholder: \"Search friends...\",\n      onChangeText: updateSearch,\n      value: search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }), React.createElement(ScrollView, {\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, searchResult ? searchResult.map(function (item, key) {\n      return React.createElement(FriendCard, {\n        key: key,\n        friendData: item,\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      });\n    }) : React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, \"No match for your search\"), React.createElement(Text, {\n      style: {\n        marginBottom: \"3%\",\n        marginTop: \"3%\",\n        textAlign: 'center',\n        fontFamily: 'sans-serif-light',\n        color: \"rgb(45 74 39)\",\n        fontSize: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, \"People You May Know\"), myData ? myData.map(function (item, key) {\n      return React.createElement(FriendCard, {\n        key: key,\n        friendData: item,\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }\n      });\n    }) : React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, \"No suggestion yet\"))) : React.createElement(Image, {\n      source: require(\"../assets/eatstreet-loading.gif\"),\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    });\n  }\n\n  return React.createElement(Tab.Navigator, {\n    initialRouteName: \"ShowFriends\",\n    activeColor: \"#fff\",\n    barStyle: {\n      backgroundColor: 'rgb(62,197,0)'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, React.createElement(Tab.Screen, {\n    name: \"ShowFriends\",\n    component: ShowFriends,\n    options: {\n      tabBarLabel: 'Friends',\n      tabBarIcon: function tabBarIcon(_ref2) {\n        var color = _ref2.color;\n        return React.createElement(SimpleLineIcons, {\n          name: \"people\",\n          size: 20,\n          color: color,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"ShowSuggestions\",\n    component: ShowSuggestions,\n    options: {\n      tabBarLabel: 'Suggestions',\n      tabBarIcon: function tabBarIcon(_ref3) {\n        var color = _ref3.color;\n        return React.createElement(FontAwesome5, {\n          name: \"people-arrows\",\n          size: 24,\n          color: color,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default FriendsScreen;\nvar styles = StyleSheet.create({\n  cartBar: {\n    height: 100,\n    marginTop: '10%',\n    width: '100%',\n    backgroundColor: 'green'\n  },\n  shadow: {\n    height: 60,\n    width: 370,\n    marginTop: 8,\n    marginBottom: 5,\n    elevation: 10,\n    borderRadius: 15\n  }\n});","map":{"version":3,"sources":["C:/Users/Shachar/Desktop/P/reactHomeals/screens/FriendsScreen.js"],"names":["React","useEffect","useState","PaperButton","Text","Card","SimpleLineIcons","AntDesign","Ionicons","Feather","MaterialCommunityIcons","FontAwesome5","BackButton","useUserContext","createMaterialBottomTabNavigator","FriendCard","SearchBar","Icon","toString","FriendsScreen","navigation","currentChefDishes","currentChef","cart","setOrder","friendsSuggestion","friendsArrDetails","allUsers","loading","Tab","localFriendsArr","setLocalFriendsArr","ShowFriends","marginTop","flex","marginLeft","position","reset","index","routes","name","marginBottom","textAlign","fontFamily","color","fontSize","width","map","item","key","require","height","myData","concat","sort","a","b","score","ShowSuggestions","search","setSearch","searchResult","setSearchResult","updateSearch","searchVal","results","forEach","currUser","fullName","firstName","lastName","toLowerCase","includes","push","justifyContent","alignItems","padding","backgroundColor","tabBarLabel","tabBarIcon","styles","StyleSheet","create","cartBar","shadow","elevation","borderRadius"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport PaperButton from '../components/Button'\r\nimport { Text, Card } from 'react-native-paper'\r\nimport { SimpleLineIcons, AntDesign, Ionicons, Feather, MaterialCommunityIcons, FontAwesome5 } from '@expo/vector-icons';\r\nimport BackButton from '../components/BackButton'\r\nimport { useUserContext } from \"../src/UserContext\"\r\nimport { View, StyleSheet, Image, ScrollView, SafeAreaView } from 'react-native';\r\nimport { createMaterialBottomTabNavigator } from '@react-navigation/material-bottom-tabs';\r\nimport FriendCard from '../components/FriendCard'\r\nimport { SearchBar } from 'react-native-elements';\r\nimport Icon from 'react-native-vector-icons/FontAwesome';\r\nimport { toString } from 'ol/transform';\r\n\r\nconst FriendsScreen = ({ navigation }) => {\r\n    const { currentChefDishes, currentChef, cart, setOrder, friendsSuggestion, friendsArrDetails, allUsers ,loading} = useUserContext();\r\n    const Tab = createMaterialBottomTabNavigator();\r\n    const [localFriendsArr, setLocalFriendsArr] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        if(friendsArrDetails){\r\n            setLocalFriendsArr(friendsArrDetails)\r\n        }\r\n    }, [friendsArrDetails])\r\n    \r\n    function ShowFriends() {\r\n        return (\r\n            loading ?\r\n                <View style={{ marginTop: \"15%\", flex: 1 }}>\r\n                    <View style={{ marginLeft:\"3%\", position: 'absolute', flex: 1 }}>\r\n                        <AntDesign onPress={() => { navigation.reset({ index: 0, routes: [{ name: 'Dashboard' }], }) }} name=\"arrowleft\" size={25} color=\"black\" />\r\n                    </View>\r\n                    <Text style={{marginTop:\"3%\", marginBottom: \"5%\", textAlign: 'center', fontFamily: 'sans-serif-light', color: \"#3ec92d\", fontSize: 22 }}>My Friends</Text>\r\n                    <ScrollView style={{ width: \"100%\" }}>\r\n\r\n                        {localFriendsArr ? localFriendsArr.map((item, key) =>\r\n                            <FriendCard key={key}\r\n                                friendData={item}>\r\n                            </FriendCard>\r\n                        ) : <Text>You have no friends yet</Text>}\r\n                    </ScrollView>\r\n                </View> :\r\n                <Image\r\n                source={require('../assets/eatstreet-loading.gif')}\r\n                style={{ width: '100%', height: '100%' }} />\r\n        );\r\n    }\r\n\r\n    const myData = [].concat(friendsSuggestion)\r\n        .sort((a, b) => a.score < b.score ? 1 : -1);\r\n\r\n    function ShowSuggestions() {\r\n        const [search, setSearch] = useState('')\r\n        const [searchResult, setSearchResult] = useState([])\r\n        function updateSearch(searchVal) {\r\n            setSearch(searchVal);\r\n            setSearchResult([])\r\n\r\n            let results = [];\r\n            if (searchVal) {\r\n                allUsers.forEach(currUser => {\r\n                    let fullName = currUser.firstName + ' ' + currUser.lastName;\r\n                    (fullName.toLowerCase().includes(searchVal.toLowerCase())) ? results.push(currUser) : null\r\n                });\r\n            }\r\n            setSearchResult(results)\r\n        };\r\n        return (\r\n            loading ?\r\n            <View style={{ marginTop: \"5%\", flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                <SearchBar\r\n                    containerStyle={{ width: \"100%\", padding: \"1.5%\", marginTop: \"6%\", backgroundColor: \"rgb(248,248,248 / 0%)\" }}\r\n                    lightTheme\r\n                    round='true'\r\n                    placeholder=\"Search friends...\"\r\n                    onChangeText={updateSearch}\r\n                    value={search}\r\n                />\r\n\r\n\r\n                <ScrollView style={{ width: \"100%\" }}>\r\n\r\n                    {searchResult ? searchResult.map((item, key) =>\r\n                        <FriendCard key={key}\r\n                            friendData={item}>\r\n                        </FriendCard>\r\n                    ) : <Text>No match for your search</Text>}\r\n                    <Text style={{ marginBottom: \"3%\", marginTop: \"3%\", textAlign: 'center', fontFamily: 'sans-serif-light', color: \"rgb(45 74 39)\", fontSize: 20 }}>People You May Know</Text>\r\n\r\n                    {myData ? myData.map((item, key) =>\r\n                        <FriendCard key={key}\r\n                            friendData={item}>\r\n                        </FriendCard>\r\n                    ) : <Text>No suggestion yet</Text>}\r\n                </ScrollView>\r\n            </View> :\r\n            <Image\r\n            source={require('../assets/eatstreet-loading.gif')}\r\n            style={{ width: '100%', height: '100%' }} />\r\n        );\r\n    }\r\n\r\n\r\n\r\n    return (\r\n\r\n        <Tab.Navigator\r\n            initialRouteName=\"ShowFriends\"\r\n            activeColor=\"#fff\"\r\n            barStyle={{ backgroundColor: 'rgb(62,197,0)' }}\r\n        >\r\n            <Tab.Screen name=\"ShowFriends\" component={ShowFriends}\r\n                options={{\r\n                    tabBarLabel: 'Friends',\r\n                    tabBarIcon: ({ color }) => (\r\n                        <SimpleLineIcons name=\"people\" size={20} color={color} />\r\n                    ),\r\n                }}\r\n            />\r\n            <Tab.Screen name=\"ShowSuggestions\" component={ShowSuggestions}\r\n                options={{\r\n                    tabBarLabel: 'Suggestions',\r\n                    tabBarIcon: ({ color }) => (\r\n                        <FontAwesome5 name=\"people-arrows\" size={24} color={color} />\r\n                    ),\r\n                }}\r\n            />\r\n        </Tab.Navigator>\r\n    )\r\n}\r\n\r\nexport default FriendsScreen\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n    cartBar: {\r\n        height: 100,\r\n        marginTop: '10%',\r\n        width: '100%',\r\n        backgroundColor: 'green',\r\n    },\r\n    shadow: {\r\n        height: 60,\r\n        width: 370,\r\n        marginTop: 8,\r\n        marginBottom: 5,\r\n        elevation: 10,\r\n        borderRadius: 15,\r\n    },\r\n})\r\n"]},"metadata":{},"sourceType":"module"}