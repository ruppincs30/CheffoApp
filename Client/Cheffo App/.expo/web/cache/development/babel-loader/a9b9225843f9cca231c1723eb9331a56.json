{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\asafs\\\\Desktop\\\\homeals\\\\contexts\\\\AuthContext.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { fire } from \"../fire\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nvar AuthContext = React.createContext();\nexport function useAuth() {\n  return useContext(AuthContext);\n}\nexport function AuthProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentUser = _useState2[0],\n      setCurrentUser = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  function signup(email, password) {\n    return fire.auth().createUserWithEmailAndPassword(email, password);\n  }\n\n  function login(email, password) {\n    return fire.auth().signInWithEmailAndPassword(email, password);\n  }\n\n  function logout() {\n    return fire.auth().signOut();\n  }\n\n  function resetPassword(email) {\n    return fire.auth().sendPasswordResetEmail(email);\n  }\n\n  function updateEmail(email) {\n    return currentUser.updateEmail(email);\n  }\n\n  function updatePassword(password) {\n    return currentUser.updatePassword(password);\n  }\n\n  useEffect(function () {\n    var unsubscribe = fire.auth().onAuthStateChanged(function (user) {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, []);\n  var value = {\n    currentUser: currentUser,\n    login: login,\n    signup: signup,\n    logout: logout,\n    resetPassword: resetPassword,\n    updateEmail: updateEmail,\n    updatePassword: updatePassword\n  };\n  return React.createElement(AuthContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, !loading && children);\n}","map":{"version":3,"sources":["C:/Users/asafs/Desktop/homeals/contexts/AuthContext.js"],"names":["React","useContext","useState","useEffect","fire","AuthContext","createContext","useAuth","AuthProvider","children","currentUser","setCurrentUser","loading","setLoading","signup","email","password","auth","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","unsubscribe","onAuthStateChanged","user","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,IAAT;;;AAGA,IAAMC,WAAW,GAAGL,KAAK,CAACM,aAAN,EAApB;AAEA,OAAO,SAASC,OAAT,GAAmB;AACxB,SAAON,UAAU,CAACI,WAAD,CAAjB;AACD;AAED,OAAO,SAASG,YAAT,OAAoC;AAAA,MAAZC,QAAY,QAAZA,QAAY;;AAAA,kBACDP,QAAQ,EADP;AAAA;AAAA,MAChCQ,WADgC;AAAA,MACnBC,cADmB;;AAAA,mBAETT,QAAQ,CAAC,IAAD,CAFC;AAAA;AAAA,MAEhCU,OAFgC;AAAA,MAEvBC,UAFuB;;AAIvC,WAASC,MAAT,CAAgBC,KAAhB,EAAuBC,QAAvB,EAAiC;AAC/B,WAAOZ,IAAI,CAACa,IAAL,GAAYC,8BAAZ,CAA2CH,KAA3C,EAAkDC,QAAlD,CAAP;AACD;;AAED,WAASG,KAAT,CAAeJ,KAAf,EAAsBC,QAAtB,EAAgC;AAC9B,WAAOZ,IAAI,CAACa,IAAL,GAAYG,0BAAZ,CAAuCL,KAAvC,EAA8CC,QAA9C,CAAP;AACD;;AAED,WAASK,MAAT,GAAkB;AAChB,WAAOjB,IAAI,CAACa,IAAL,GAAYK,OAAZ,EAAP;AACD;;AAED,WAASC,aAAT,CAAuBR,KAAvB,EAA8B;AAC5B,WAAOX,IAAI,CAACa,IAAL,GAAYO,sBAAZ,CAAmCT,KAAnC,CAAP;AACD;;AAED,WAASU,WAAT,CAAqBV,KAArB,EAA4B;AAC1B,WAAOL,WAAW,CAACe,WAAZ,CAAwBV,KAAxB,CAAP;AACD;;AAED,WAASW,cAAT,CAAwBV,QAAxB,EAAkC;AAChC,WAAON,WAAW,CAACgB,cAAZ,CAA2BV,QAA3B,CAAP;AACD;;AAEDb,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMwB,WAAW,GAAGvB,IAAI,CAACa,IAAL,GAAYW,kBAAZ,CAA+B,UAAAC,IAAI,EAAI;AACzDlB,MAAAA,cAAc,CAACkB,IAAD,CAAd;AACAhB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAHmB,CAApB;AAKA,WAAOc,WAAP;AACD,GAPQ,EAON,EAPM,CAAT;AASA,MAAMG,KAAK,GAAG;AACZpB,IAAAA,WAAW,EAAXA,WADY;AAEZS,IAAAA,KAAK,EAALA,KAFY;AAGZL,IAAAA,MAAM,EAANA,MAHY;AAIZO,IAAAA,MAAM,EAANA,MAJY;AAKZE,IAAAA,aAAa,EAAbA,aALY;AAMZE,IAAAA,WAAW,EAAXA,WANY;AAOZC,IAAAA,cAAc,EAAdA;AAPY,GAAd;AAUA,SACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEI,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAClB,OAAD,IAAYH,QADf,CADF;AAKD","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\"\r\nimport { fire } from \"../fire\"\r\nimport { View, Text } from 'react-native'\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState()\r\n    const [loading, setLoading] = useState(true)\r\n  \r\n    function signup(email, password) {\r\n      return fire.auth().createUserWithEmailAndPassword(email, password)\r\n    }\r\n  \r\n    function login(email, password) {\r\n      return fire.auth().signInWithEmailAndPassword(email, password)\r\n    }\r\n  \r\n    function logout() {\r\n      return fire.auth().signOut()\r\n    }\r\n  \r\n    function resetPassword(email) {\r\n      return fire.auth().sendPasswordResetEmail(email)\r\n    }\r\n  \r\n    function updateEmail(email) {\r\n      return currentUser.updateEmail(email)\r\n    }\r\n  \r\n    function updatePassword(password) {\r\n      return currentUser.updatePassword(password)\r\n    }\r\n  \r\n    useEffect(() => {\r\n      const unsubscribe = fire.auth().onAuthStateChanged(user => {\r\n        setCurrentUser(user)\r\n        setLoading(false)\r\n      })\r\n  \r\n      return unsubscribe\r\n    }, [])\r\n  \r\n    const value = {\r\n      currentUser,\r\n      login,\r\n      signup,\r\n      logout,\r\n      resetPassword,\r\n      updateEmail,\r\n      updatePassword\r\n    }\r\n  \r\n    return (\r\n      <AuthContext.Provider value={value}>\r\n        {!loading && children}\r\n      </AuthContext.Provider>\r\n    )\r\n  }"]},"metadata":{},"sourceType":"module"}