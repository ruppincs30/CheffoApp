{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport results from \"../src/dummy.json\";\nvar apiURLpostUser = \"http://192.168.31.156:50247/api/User/postUser/\";\nvar apiURLgetUsers = \"http://192.168.31.156:50247/api/User/getUsers/\";\nvar apiURLpostCon = \"http://192.168.31.156:50247/api/Connection/scrPost/\";\nexport function script() {\n  var usersData, i, rnd, j, rnd2;\n  return _regeneratorRuntime.async(function script$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch(apiURLgetUsers, {\n            method: 'GET',\n            headers: new Headers({\n              'Content-Type': 'application/json; charset=UTF-8',\n              'Accept': 'application/json; charset=UTF-8'\n            })\n          }).then(function (response) {\n            console.log('response.status', response.status);\n            return response.json();\n          }).then(function (data) {\n            usersData = data;\n          }, function (error) {\n            console.log(\"err get=\", error);\n          }));\n\n        case 2:\n          console.log(usersData);\n\n          for (i = 0; i < usersData.length; i++) {\n            rnd = getRndInteger(9);\n\n            for (j = 0; j < rnd; j++) {\n              rnd2 = getRndInteger(usersData.length - 1);\n\n              if (i != rnd2) {\n                postCon(usersData[i], usersData[rnd2]);\n              }\n            }\n          }\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nfunction postCon(srcUser, targetUser) {\n  var conObj = {\n    sourceUid: srcUser.Uid,\n    targetUid: targetUser.Uid\n  };\n  fetch(apiURLpostCon, {\n    method: 'POST',\n    body: JSON.stringify(conObj),\n    headers: new Headers({\n      'Content-Type': 'application/json; charset=UTF-8',\n      'Accept': 'application/json; charset=UTF-8'\n    })\n  }).then(function (response) {\n    console.log('response=', response);\n    console.log('response.status', response.status);\n    console.log('response.ok', response.ok);\n    return response.json();\n  });\n}\n\nfunction getRndInteger(max) {\n  return Math.floor(Math.random() * (max + 1));\n}\n\nfunction generateFilteredUser(data, city, gLon, gLat) {\n  var user = {\n    uid: data.login.uuid,\n    firstName: data.name.first,\n    lastName: data.name.last,\n    email: data.email,\n    city: city,\n    pNumber: data.phone,\n    lon: gLon,\n    lat: gLat,\n    img: data.picture.medium\n  };\n  fetch(apiURLpostUser, {\n    method: 'POST',\n    body: JSON.stringify(user),\n    headers: new Headers({\n      'Content-Type': 'application/json; charset=UTF-8',\n      'Accept': 'application/json; charset=UTF-8'\n    })\n  }).then(function (response) {\n    console.log('response=', response);\n    console.log('response.status', response.status);\n    console.log('response.ok', response.ok);\n    return response.json();\n  });\n  return user;\n}","map":{"version":3,"sources":["C:/Users/Shachar/Desktop/P/reactHomeals/src/script.js"],"names":["results","apiURLpostUser","apiURLgetUsers","apiURLpostCon","script","fetch","method","headers","Headers","then","response","console","log","status","json","data","usersData","error","i","length","rnd","getRndInteger","j","rnd2","postCon","srcUser","targetUser","conObj","sourceUid","Uid","targetUid","body","JSON","stringify","ok","max","Math","floor","random","generateFilteredUser","city","gLon","gLat","user","uid","login","uuid","firstName","name","first","lastName","last","email","pNumber","phone","lon","lat","img","picture","medium"],"mappings":";AACA,OAAOA,OAAP;AAEA,IAAIC,cAAc,GAAG,gDAArB;AACA,IAAIC,cAAc,GAAG,gDAArB;AAEA,IAAIC,aAAa,GAAG,qDAApB;AAIA,OAAO,SAAeC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEGC,KAAK,CAACH,cAAD,EAAiB;AACxBI,YAAAA,MAAM,EAAE,KADgB;AAExBC,YAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACjB,8BAAgB,iCADC;AAEjB,wBAAU;AAFO,aAAZ;AAFe,WAAjB,CAAL,CAODC,IAPC,CAOI,UAAAC,QAAQ,EAAI;AACdC,YAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,QAAQ,CAACG,MAAxC;AACA,mBAAOH,QAAQ,CAACI,IAAT,EAAP;AACH,WAVC,EAWDL,IAXC,CAWI,UAACM,IAAD,EAAU;AACZC,YAAAA,SAAS,GAAGD,IAAZ;AACH,WAbC,EAcE,UAACE,KAAD,EAAW;AACPN,YAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBK,KAAxB;AACH,WAhBH,CAFH;;AAAA;AAmBHN,UAAAA,OAAO,CAACC,GAAR,CAAYI,SAAZ;;AACA,eAASE,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAGF,SAAS,CAACG,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACnCE,YAAAA,GADmC,GAC7BC,aAAa,CAAC,CAAD,CADgB;;AAEvC,iBAASC,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAGF,GAApB,EAAyBE,CAAC,EAA1B,EAA8B;AACtBC,cAAAA,IADsB,GACfF,aAAa,CAACL,SAAS,CAACG,MAAV,GAAmB,CAApB,CADE;;AAE1B,kBAAID,CAAC,IAAIK,IAAT,EAAe;AACXC,gBAAAA,OAAO,CAACR,SAAS,CAACE,CAAD,CAAV,EAAeF,SAAS,CAACO,IAAD,CAAxB,CAAP;AACH;AAEJ;AAEJ;;AA9BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA+EP,SAASC,OAAT,CAAiBC,OAAjB,EAA0BC,UAA1B,EAAsC;AAClC,MAAIC,MAAM,GAAC;AACPC,IAAAA,SAAS,EAAEH,OAAO,CAACI,GADZ;AAEPC,IAAAA,SAAS,EAAEJ,UAAU,CAACG;AAFf,GAAX;AAIAxB,EAAAA,KAAK,CAACF,aAAD,EAAgB;AACjBG,IAAAA,MAAM,EAAE,MADS;AAEjByB,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,MAAf,CAFW;AAGjBpB,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACjB,sBAAgB,iCADC;AAEjB,gBAAU;AAFO,KAAZ;AAHQ,GAAhB,CAAL,CAQKC,IARL,CAQU,UAAAC,QAAQ,EAAI;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,QAAzB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,QAAQ,CAACG,MAAxC;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BF,QAAQ,CAACwB,EAApC;AACA,WAAOxB,QAAQ,CAACI,IAAT,EAAP;AACH,GAbL;AAcH;;AAmBD,SAASO,aAAT,CAAuBc,GAAvB,EAA4B;AACxB,SAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBH,GAAG,GAAG,CAAvB,CAAX,CAAP;AACH;;AAED,SAASI,oBAAT,CAA8BxB,IAA9B,EAAoCyB,IAApC,EAA0CC,IAA1C,EAAgDC,IAAhD,EAAsD;AAClD,MAAIC,IAAI,GAAG;AACPC,IAAAA,GAAG,EAAE7B,IAAI,CAAC8B,KAAL,CAAWC,IADT;AAEPC,IAAAA,SAAS,EAAEhC,IAAI,CAACiC,IAAL,CAAUC,KAFd;AAGPC,IAAAA,QAAQ,EAAEnC,IAAI,CAACiC,IAAL,CAAUG,IAHb;AAIPC,IAAAA,KAAK,EAAErC,IAAI,CAACqC,KAJL;AAKPZ,IAAAA,IAAI,EAAEA,IALC;AAMPa,IAAAA,OAAO,EAAEtC,IAAI,CAACuC,KANP;AAOPC,IAAAA,GAAG,EAAEd,IAPE;AAQPe,IAAAA,GAAG,EAAEd,IARE;AASPe,IAAAA,GAAG,EAAE1C,IAAI,CAAC2C,OAAL,CAAaC;AATX,GAAX;AAWAtD,EAAAA,KAAK,CAACJ,cAAD,EAAiB;AAClBK,IAAAA,MAAM,EAAE,MADU;AAElByB,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeU,IAAf,CAFY;AAGlBpC,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACjB,sBAAgB,iCADC;AAEjB,gBAAU;AAFO,KAAZ;AAHS,GAAjB,CAAL,CAQKC,IARL,CAQU,UAAAC,QAAQ,EAAI;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,QAAzB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,QAAQ,CAACG,MAAxC;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BF,QAAQ,CAACwB,EAApC;AACA,WAAOxB,QAAQ,CAACI,IAAT,EAAP;AACH,GAbL;AAeA,SAAO6B,IAAP;AACH","sourcesContent":["// const url = \"../src/dummy.json\";\r\nimport results from '../src/dummy.json'\r\n\r\nlet apiURLpostUser = \"http://192.168.31.156:50247/api/User/postUser/\";\r\nlet apiURLgetUsers = \"http://192.168.31.156:50247/api/User/getUsers/\";\r\n\r\nlet apiURLpostCon = \"http://192.168.31.156:50247/api/Connection/scrPost/\";\r\n\r\n// document.addEventListener(\"DOMContentLoaded\", initialise);\r\n\r\nexport async function script() {\r\n    var usersData;\r\n    await fetch(apiURLgetUsers, {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n            'Content-Type': 'application/json; charset=UTF-8',\r\n            'Accept': 'application/json; charset=UTF-8'\r\n        })\r\n    })\r\n        .then(response => {\r\n            console.log('response.status', response.status);\r\n            return response.json();\r\n        })\r\n        .then((data) => {\r\n            usersData = data;\r\n        },\r\n            (error) => {\r\n                console.log(\"err get=\", error);\r\n            });\r\n    console.log(usersData)\r\n    for (let i = 0; i < usersData.length; i++) {\r\n        let rnd = getRndInteger(9); //number of connections for current\r\n        for (let j = 0; j < rnd; j++) {\r\n            let rnd2 = getRndInteger(usersData.length - 1) // random target user from users\r\n            if (i != rnd2) {\r\n                postCon(usersData[i], usersData[rnd2])\r\n            }\r\n            /* console.log(rnd + ',' + rnd2 + ',' + usersData[i].Uid + ',' + usersData[rnd2].Uid) */\r\n        }\r\n\r\n    }\r\n    // users creation by location\r\n    /* let listArr = [];\r\n    var city, gLon, gLat, curr1, curr2; */\r\n    /* for (let i = 0; i < results.results.length; i++) {\r\n        curr1 = getRndInteger() / 1000000;\r\n        curr2 = getRndInteger() / 1000000;\r\n        city = \"Netanya\";\r\n        gLon = 34.85 + curr1;\r\n        gLat = 32.31 + curr2;\r\n        if (i > 30) {\r\n            city = \"Mishmarot\";\r\n            gLon = 34.98 + curr1;\r\n            gLat = 32.48 + curr2;\r\n            if (i > 50) {\r\n                city = \"Kohav Yair\";\r\n                gLon = 34.99 + curr1;\r\n                gLat = 32.22 + curr2;\r\n                if (i > 80) {\r\n                    city = \"Tel Aviv\";\r\n                    gLon = 34.80 + curr1;\r\n                    gLat = 32.11 + curr2;\r\n                    if (i > 120) {\r\n                        city = \"Jerusalem\";\r\n                        gLon = 35.21 + curr1;\r\n                        gLat = 31.76 + curr2;\r\n                        if (i > 150) {\r\n                            city = \"Haifa\";\r\n                            gLon = 34.99 + curr1;\r\n                            gLat = 32.80 + curr2;\r\n                            if (i > 180) {\r\n                                city = \"Kfar Saba\";\r\n                                gLon = 34.90 + curr1;\r\n                                gLat = 32.17 + curr2;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        let filteredUser = generateFilteredUser(results.results[i], city, gLon, gLat);\r\n        listArr.push(filteredUser);\r\n        } */\r\n\r\n    /* console.log(listArr)\r\n    let userList = { users: listArr };\r\n    console.log(JSON.stringify(userList)); */\r\n    // users creation by location\r\n}\r\n\r\nfunction postCon(srcUser, targetUser) {\r\n    let conObj={\r\n        sourceUid: srcUser.Uid,\r\n        targetUid: targetUser.Uid,\r\n    }\r\n    fetch(apiURLpostCon, {\r\n        method: 'POST',\r\n        body: JSON.stringify(conObj),\r\n        headers: new Headers({\r\n            'Content-Type': 'application/json; charset=UTF-8',\r\n            'Accept': 'application/json; charset=UTF-8'\r\n        })\r\n    })\r\n        .then(response => {\r\n            console.log('response=', response);\r\n            console.log('response.status', response.status);\r\n            console.log('response.ok', response.ok);\r\n            return response.json();\r\n        })\r\n}\r\n\r\n/* function fetchGeneratedUsers() {\r\n    fetch(url)\r\n        .then(function (response) {\r\n            return response.json();\r\n        })\r\n        .then(function (json) {\r\n            var listArr = [];\r\n            for (let i = 0; i < json.results.length; i++) {\r\n                var filteredUser = generateFilteredUser(json.results[i]);\r\n                listArr.push(filteredUser);\r\n            }\r\n\r\n            var userList = { users: listArr };\r\n            console.log(JSON.stringify(userList));\r\n        });\r\n} */\r\n\r\nfunction getRndInteger(max) {\r\n    return Math.floor(Math.random() * (max + 1));\r\n}\r\n\r\nfunction generateFilteredUser(data, city, gLon, gLat) {\r\n    var user = {\r\n        uid: data.login.uuid,\r\n        firstName: data.name.first,\r\n        lastName: data.name.last,\r\n        email: data.email,\r\n        city: city,\r\n        pNumber: data.phone,\r\n        lon: gLon,\r\n        lat: gLat,\r\n        img: data.picture.medium,\r\n    };\r\n    fetch(apiURLpostUser, {\r\n        method: 'POST',\r\n        body: JSON.stringify(user),\r\n        headers: new Headers({\r\n            'Content-Type': 'application/json; charset=UTF-8',\r\n            'Accept': 'application/json; charset=UTF-8'\r\n        })\r\n    })\r\n        .then(response => {\r\n            console.log('response=', response);\r\n            console.log('response.status', response.status);\r\n            console.log('response.ok', response.ok);\r\n            return response.json();\r\n        })\r\n\r\n    return user;\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}