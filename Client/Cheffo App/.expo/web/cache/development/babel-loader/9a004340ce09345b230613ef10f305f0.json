{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\asafs\\\\Desktop\\\\homeals\\\\src\\\\UserContext.js\";\nimport fire from \"../fire\";\nimport { auth } from 'firebase';\nimport React, { useContext, useState, useEffect } from 'react';\nvar UserContext = React.createContext();\nvar UserUpdateContext = React.createContext();\nexport function useUserContext() {\n  return useContext(UserContext);\n}\nexport function useUserUpdateContext() {\n  return useContext(UserUpdateContext);\n}\nexport function UserProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentUser = _useState2[0],\n      setCurrentUser = _useState2[1];\n\n  var _useState3 = useState({\n    value: '',\n    error: ''\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState({\n    value: '',\n    error: ''\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = useState({\n    value: '',\n    error: ''\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      password = _useState8[0],\n      setPassword = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      userID = _useState10[0],\n      setUserID = _useState10[1];\n\n  function onLogin(email, userID) {\n    setEmail(email);\n    setUserID(userID);\n  }\n\n  function updateEmail(email) {\n    return currentUser.updateEmail(email);\n  }\n\n  function updatePassword(password) {\n    return currentUser.updatePassword(password);\n  }\n\n  function signup(email, password) {\n    var flag;\n    return _regeneratorRuntime.async(function signup$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            flag = true;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fire.auth().createUserWithEmailAndPassword(email, password).catch(function (err) {\n              switch (err.code) {\n                case \"auth/email-already-in-use\":\n                case \"auth/invalid-email\":\n                case \"auth/weak-password\":\n                  alert(err.message);\n                  console.log(\"hey\");\n                  flag = false;\n                  break;\n              }\n            }));\n\n          case 3:\n            console.log(flag);\n            return _context.abrupt(\"return\", flag);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function signin(email, password) {\n    return fire.auth().signInWithEmailAndPassword(email, password).catch(function (err) {\n      switch (err.code) {\n        case \"auth/invalid-email\":\n        case \"auth/user-disabled\":\n        case \"auth/user-not-found\":\n          alert(\"wrong Email\");\n          console.log(err.message);\n          break;\n\n        case \"auth/wrong-password\":\n          alert(\"wrong Password\");\n          console.log(err.message);\n          break;\n      }\n    });\n  }\n\n  var Logout = function Logout() {\n    fire.auth().signOut();\n  };\n\n  useEffect(function () {\n    var unsubscribe = fire.auth().onAuthStateChanged(function (user) {\n      setCurrentUser(user);\n      console.log(user);\n    });\n    return unsubscribe;\n  }, []);\n  var value = {\n    currentUser: currentUser,\n    name: name,\n    email: email,\n    password: password,\n    userID: userID,\n    signup: signup,\n    signin: signin,\n    updateEmail: updateEmail,\n    updatePassword: updatePassword,\n    onLogin: onLogin\n  };\n  return React.createElement(UserContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, children);\n}","map":{"version":3,"sources":["C:/Users/asafs/Desktop/homeals/src/UserContext.js"],"names":["fire","auth","React","useContext","useState","useEffect","UserContext","createContext","UserUpdateContext","useUserContext","useUserUpdateContext","UserProvider","children","currentUser","setCurrentUser","value","error","name","setName","email","setEmail","password","setPassword","userID","setUserID","onLogin","updateEmail","updatePassword","signup","flag","createUserWithEmailAndPassword","catch","err","code","alert","message","console","log","signin","signInWithEmailAndPassword","Logout","signOut","unsubscribe","onAuthStateChanged","user"],"mappings":"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","sourcesContent":["import fire from '../fire'\r\nimport { auth } from 'firebase'\r\nimport React, { useContext, useState, useEffect } from 'react'\r\n\r\nconst UserContext = React.createContext()\r\nconst UserUpdateContext = React.createContext()\r\n\r\nexport function useUserContext() {\r\n    return useContext(UserContext)\r\n}\r\n\r\nexport function useUserUpdateContext() {\r\n    return useContext(UserUpdateContext)\r\n}\r\n\r\nexport function UserProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState()\r\n    const [name, setName] = useState({ value: '', error: '' })\r\n    const [email, setEmail] = useState({ value: '', error: '' })\r\n    const [password, setPassword] = useState({ value: '', error: '' })\r\n    const [userID, setUserID] = useState('')\r\n\r\n    function onLogin(email, userID) {\r\n        setEmail(email);\r\n        setUserID(userID);\r\n    }\r\n\r\n    function updateEmail(email) {\r\n        return currentUser.updateEmail(email)\r\n    }\r\n\r\n    function updatePassword(password) {\r\n        return currentUser.updatePassword(password)\r\n    }\r\n\r\n    async function signup(email, password) {\r\n        var flag = true;\r\n        await fire\r\n            .auth()\r\n            .createUserWithEmailAndPassword(email, password)\r\n            .catch(err => {\r\n                switch (err.code) {\r\n                    case \"auth/email-already-in-use\":\r\n                    case \"auth/invalid-email\":\r\n                    case \"auth/weak-password\":\r\n                        alert(err.message);\r\n                        console.log(\"hey\")\r\n                        flag = false;\r\n                        break;\r\n                }\r\n\r\n            });\r\n        console.log(flag)\r\n        return flag;\r\n    }\r\n\r\n    function signin(email, password) {\r\n        return fire\r\n            .auth()\r\n            .signInWithEmailAndPassword(email, password)\r\n            .catch(err => {\r\n                switch (err.code) {\r\n                    case \"auth/invalid-email\":\r\n                    case \"auth/user-disabled\":\r\n                    case \"auth/user-not-found\":\r\n                        alert(\"wrong Email\");\r\n                        console.log(err.message)\r\n                        break;\r\n                    case \"auth/wrong-password\":\r\n                        alert(\"wrong Password\");\r\n                        console.log(err.message)\r\n                        break;\r\n                }\r\n            });\r\n    }\r\n\r\n    const Logout = () => {\r\n        fire.auth().signOut();\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = fire.auth().onAuthStateChanged(user => {\r\n            setCurrentUser(user)\r\n            console.log(user)\r\n        })\r\n\r\n        return unsubscribe\r\n    }, [])\r\n\r\n    const value = {\r\n        currentUser,\r\n        name,\r\n        email,\r\n        password,\r\n        userID,\r\n        signup,\r\n        signin,\r\n        updateEmail,\r\n        updatePassword,\r\n        onLogin\r\n    }\r\n\r\n    return (\r\n        <UserContext.Provider value={value}>\r\n            {children}\r\n        </UserContext.Provider>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}