{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport results from \"../src/dummy.json\";\nimport { getDistanceFromLatLonInKm } from \"../helpers/calcDis.js\";\nvar apiURLpostUser = \"http://192.168.31.156:50247/api/User/postUser/\";\nvar apiURLgetUsers = \"http://192.168.31.156:50247/api/User/getUsers/\";\nvar apiURLgetChefs = \"http://192.168.31.156:50247/api/Chef/getChefs/\";\nvar apiURLpostCon = \"http://192.168.31.156:50247/api/Connection/scrPost/\";\nvar badReviews = [\"food stinks, I wouldn't feed it to my dog\", \"the delivery guy didn't have a surprise for me\", \"smells like fish\", \"next time ill stick to my leftovers\", \"food was meh\", \"I have no words to describe\", \"save your money, choose anything else\", \"flavorless and dry, 100 % will not go back\", \"used to be better, this was my last time\", \"never forget, never again\"];\nvar medReviews = [\"The food was fine, the chef agreed to all requests\", \"The food was delicious but took a long time\", \"We were missing one dish but the chef corrected himself and sent it himself\", \"The food was ok\", \"Small but tasty dishes, not sure I will order there again\", \"Good and large dishes but the price is a bit expensive\", \"The service was fine and the food as well\", \"I really can't decide if it was a good choice or not\", \"I have read the reviews for this restaurant and expected good things. I was very disappoint with the food\", \"was a little late, but the food was fine\"];\nvar goodReviews = [\"Excellent\", \"The food was delicious and the chef was quick! I'll but there again for sure!\", \"took a little bit more time than scheduled but it was well worth it!\", \"Best food in town for sure!!! <3\", \"10 minutes from the order and I'm eating the best food I could dream of. totally recommend this chef!\", \"will order again easy\", \"First time I'm ordering from this chef and it was incredible experience\", \"cant go with someone else after I ordered from this chef!!! you must buy there\", \"i'll 100% buy there again\", \"the chef was very polite and dish was great\"];\nexport function script() {\n  var usersData, chefsData, i, rnd, j, serviceRating, foodRating, reviewRating;\n  return _regeneratorRuntime.async(function script$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch(apiURLgetUsers, {\n            method: 'GET',\n            headers: new Headers({\n              'Content-Type': 'application/json; charset=UTF-8',\n              'Accept': 'application/json; charset=UTF-8'\n            })\n          }).then(function (response) {\n            console.log('response.status', response.status);\n            return response.json();\n          }).then(function (data) {\n            usersData = data;\n          }, function (error) {\n            console.log(\"err get=\", error);\n          }));\n\n        case 2:\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(fetch(apiURLgetChefs, {\n            method: 'GET',\n            headers: new Headers({\n              'Content-Type': 'application/json; charset=UTF-8',\n              'Accept': 'application/json; charset=UTF-8'\n            })\n          }).then(function (response) {\n            console.log('response.status', response.status);\n            return response.json();\n          }).then(function (data) {\n            chefsData = data;\n          }, function (error) {\n            console.log(\"err get=\", error);\n          }));\n\n        case 4:\n          console.log(usersData);\n          console.log(chefsData);\n\n          for (i = 0; i < usersData.length; i++) {\n            rnd = getRndInteger(1);\n\n            for (j = 0; j < 10; j++) {\n              serviceRating = getRndInteger(1, 4) + getRndInteger(0, 9) * 0.1;\n              foodRating = getRndInteger(1, 4) + getRndInteger(0, 9) * 0.1;\n              reviewRating = (serviceRating + foodRating) / 2;\n              console.log(serviceRating + \" \" + foodRating + \" \" + reviewRating);\n            }\n          }\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nfunction getRndInteger(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nfunction generateFilteredUser(data, city, gLon, gLat) {\n  var user = {\n    uid: data.login.uuid,\n    firstName: data.name.first,\n    lastName: data.name.last,\n    email: data.email,\n    city: city,\n    pNumber: data.phone,\n    lon: gLon,\n    lat: gLat,\n    img: data.picture.medium\n  };\n  fetch(apiURLpostUser, {\n    method: 'POST',\n    body: JSON.stringify(user),\n    headers: new Headers({\n      'Content-Type': 'application/json; charset=UTF-8',\n      'Accept': 'application/json; charset=UTF-8'\n    })\n  }).then(function (response) {\n    console.log('response=', response);\n    console.log('response.status', response.status);\n    console.log('response.ok', response.ok);\n    return response.json();\n  });\n  return user;\n}","map":{"version":3,"sources":["C:/Users/Shachar/Desktop/P/reactHomeals/src/script.js"],"names":["results","getDistanceFromLatLonInKm","apiURLpostUser","apiURLgetUsers","apiURLgetChefs","apiURLpostCon","badReviews","medReviews","goodReviews","script","fetch","method","headers","Headers","then","response","console","log","status","json","data","usersData","error","chefsData","i","length","rnd","getRndInteger","j","serviceRating","foodRating","reviewRating","min","max","Math","floor","random","generateFilteredUser","city","gLon","gLat","user","uid","login","uuid","firstName","name","first","lastName","last","email","pNumber","phone","lon","lat","img","picture","medium","body","JSON","stringify","ok"],"mappings":"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","sourcesContent":["// const url = \"../src/dummy.json\";\r\nimport results from '../src/dummy.json'\r\nimport { getDistanceFromLatLonInKm } from '../helpers/calcDis.js'\r\n\r\nlet apiURLpostUser = \"http://192.168.31.156:50247/api/User/postUser/\";\r\nlet apiURLgetUsers = \"http://192.168.31.156:50247/api/User/getUsers/\";\r\nlet apiURLgetChefs = \"http://192.168.31.156:50247/api/Chef/getChefs/\";\r\nlet apiURLpostCon = \"http://192.168.31.156:50247/api/Connection/scrPost/\";\r\n\r\nlet badReviews = [\r\n    \"food stinks, I wouldn't feed it to my dog\",\r\n    \"the delivery guy didn't have a surprise for me\",\r\n    \"smells like fish\",\r\n    \"next time ill stick to my leftovers\",\r\n    \"food was meh\",\r\n    \"I have no words to describe\",\r\n    \"save your money, choose anything else\",\r\n    \"flavorless and dry, 100 % will not go back\",\r\n    \"used to be better, this was my last time\",\r\n    \"never forget, never again\"\r\n]\r\n\r\nlet medReviews = [\r\n    \"The food was fine, the chef agreed to all requests\",\r\n    \"The food was delicious but took a long time\",\r\n    \"We were missing one dish but the chef corrected himself and sent it himself\",\r\n    \"The food was ok\",\r\n    \"Small but tasty dishes, not sure I will order there again\",\r\n    \"Good and large dishes but the price is a bit expensive\",\r\n    \"The service was fine and the food as well\",\r\n    \"I really can't decide if it was a good choice or not\",\r\n    \"I have read the reviews for this restaurant and expected good things. I was very disappoint with the food\",\r\n    \"was a little late, but the food was fine\",\r\n]\r\n\r\nlet goodReviews = [\r\n    \"Excellent\",\r\n    \"The food was delicious and the chef was quick! I'll but there again for sure!\",\r\n    \"took a little bit more time than scheduled but it was well worth it!\",\r\n    \"Best food in town for sure!!! <3\",\r\n    \"10 minutes from the order and I'm eating the best food I could dream of. totally recommend this chef!\",\r\n    \"will order again easy\",\r\n    \"First time I'm ordering from this chef and it was incredible experience\",\r\n    \"cant go with someone else after I ordered from this chef!!! you must buy there\",\r\n    \"i'll 100% buy there again\",\r\n    \"the chef was very polite and dish was great\"\r\n]\r\n\r\n\r\nexport async function script() {\r\n    var usersData;\r\n    var chefsData;\r\n    await fetch(apiURLgetUsers, {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n            'Content-Type': 'application/json; charset=UTF-8',\r\n            'Accept': 'application/json; charset=UTF-8'\r\n        })\r\n    })\r\n        .then(response => {\r\n            console.log('response.status', response.status);\r\n            return response.json();\r\n        })\r\n        .then((data) => {\r\n            usersData = data;\r\n        },\r\n            (error) => {\r\n                console.log(\"err get=\", error);\r\n            });\r\n    await fetch(apiURLgetChefs, {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n            'Content-Type': 'application/json; charset=UTF-8',\r\n            'Accept': 'application/json; charset=UTF-8'\r\n        })\r\n    })\r\n        .then(response => {\r\n            console.log('response.status', response.status);\r\n            return response.json();\r\n        })\r\n        .then((data) => {\r\n            chefsData = data;\r\n        },\r\n            (error) => {\r\n                console.log(\"err get=\", error);\r\n            });\r\n    console.log(usersData);\r\n    console.log(chefsData);\r\n\r\n    for (let i = 0; i < usersData.length; i++) {\r\n        let rnd = getRndInteger(1);\r\n        for (let j = 0; j < 10; j++) {\r\n           /*  if (getDistanceFromLatLonInKm(usersData[i].Lat, userData[i].Lon, chefsData[j].Lat, chefsData[j].Lon) <= 25) { */\r\n                let serviceRating = getRndInteger(1,4) + (getRndInteger(0,9) * 0.1);\r\n                let foodRating = getRndInteger(1,4) + (getRndInteger(0,9) * 0.1);\r\n                let reviewRating = (serviceRating + foodRating) / 2;\r\n                console.log(serviceRating + \" \" + foodRating + \" \" + reviewRating)\r\n                /*  var reviewObj = {\r\n                     userUid: usersData[i].uid,\r\n                     chefEmail: chefsData[j].email,\r\n \r\n \r\n                 } */\r\n            /* } */\r\n            /* if (i != rnd2) {\r\n                let rnd2 = getRndInteger(usersData.length - 1)\r\n\r\n            } */\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// document.addEventListener(\"DOMContentLoaded\", initialise);\r\n\r\n/* export async function script() {\r\n    var usersData;\r\n    await fetch(apiURLgetUsers, {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n            'Content-Type': 'application/json; charset=UTF-8',\r\n            'Accept': 'application/json; charset=UTF-8'\r\n        })\r\n    })\r\n    .then(response => {\r\n        console.log('response.status', response.status);\r\n        return response.json();\r\n    })\r\n    .then((data) => {\r\n        usersData = data;\r\n    },\r\n    (error) => {\r\n        console.log(\"err get=\", error);\r\n    });\r\n    console.log(usersData)\r\n    for (let i = 0; i < usersData.length; i++) {\r\n        let rnd = getRndInteger(9); //number of connections for current\r\n        for (let j = 0; j < rnd; j++) {\r\n            let rnd2 = getRndInteger(usersData.length - 1) // random target user from users\r\n            if (i != rnd2) {\r\n                await postCon(usersData[i], usersData[rnd2])\r\n            }\r\n            \r\n        }\r\n        \r\n    } */\r\n// users creation by location\r\n/* let listArr = [];\r\nvar city, gLon, gLat, curr1, curr2; */\r\n/* for (let i = 0; i < results.results.length; i++) {\r\n    curr1 = getRndInteger() / 1000000;\r\n    curr2 = getRndInteger() / 1000000;\r\n    city = \"Netanya\";\r\n    gLon = 34.85 + curr1;\r\n    gLat = 32.31 + curr2;\r\n    if (i > 30) {\r\n        city = \"Mishmarot\";\r\n        gLon = 34.98 + curr1;\r\n        gLat = 32.48 + curr2;\r\n        if (i > 50) {\r\n            city = \"Kohav Yair\";\r\n            gLon = 34.99 + curr1;\r\n            gLat = 32.22 + curr2;\r\n            if (i > 80) {\r\n                city = \"Tel Aviv\";\r\n                gLon = 34.80 + curr1;\r\n                gLat = 32.11 + curr2;\r\n                if (i > 120) {\r\n                    city = \"Jerusalem\";\r\n                    gLon = 35.21 + curr1;\r\n                    gLat = 31.76 + curr2;\r\n                    if (i > 150) {\r\n                        city = \"Haifa\";\r\n                        gLon = 34.99 + curr1;\r\n                        gLat = 32.80 + curr2;\r\n                        if (i > 180) {\r\n                            city = \"Kfar Saba\";\r\n                            gLon = 34.90 + curr1;\r\n                            gLat = 32.17 + curr2;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        let filteredUser = generateFilteredUser(results.results[i], city, gLon, gLat);\r\n        listArr.push(filteredUser);\r\n    } */\r\n\r\n/* console.log(listArr)\r\nlet userList = { users: listArr };\r\nconsole.log(JSON.stringify(userList)); */\r\n// users creation by location\r\n/* } */\r\n\r\n\r\n\r\n/* function fetchGeneratedUsers() {\r\n    fetch(url)\r\n    .then(function (response) {\r\n        return response.json();\r\n    })\r\n    .then(function (json) {\r\n        var listArr = [];\r\n        for (let i = 0; i < json.results.length; i++) {\r\n            var filteredUser = generateFilteredUser(json.results[i]);\r\n            listArr.push(filteredUser);\r\n        }\r\n\r\n        var userList = { users: listArr };\r\n        console.log(JSON.stringify(userList));\r\n    });\r\n} */\r\n\r\n/* function postCon(srcUser, targetUser) {\r\n    let conObj = {\r\n        sourceUid: srcUser.Uid,\r\n        targetUid: targetUser.Uid,\r\n    }\r\n    fetch(apiURLpostCon, {\r\n        method: 'POST',\r\n        body: JSON.stringify(conObj),\r\n        headers: new Headers({\r\n            'Content-Type': 'application/json; charset=UTF-8',\r\n            'Accept': 'application/json; charset=UTF-8'\r\n        })\r\n    })\r\n        .then(response => {\r\n            console.log('response=', response);\r\n            console.log('response.status', response.status);\r\n            console.log('response.ok', response.ok);\r\n            return response.json();\r\n        })\r\n} */\r\n\r\nfunction getRndInteger(min,max) {\r\n    return Math.floor(Math.random() * (max - min + 1)+ min);\r\n}\r\n\r\nfunction generateFilteredUser(data, city, gLon, gLat) {\r\n    var user = {\r\n        uid: data.login.uuid,\r\n        firstName: data.name.first,\r\n        lastName: data.name.last,\r\n        email: data.email,\r\n        city: city,\r\n        pNumber: data.phone,\r\n        lon: gLon,\r\n        lat: gLat,\r\n        img: data.picture.medium,\r\n    };\r\n    fetch(apiURLpostUser, {\r\n        method: 'POST',\r\n        body: JSON.stringify(user),\r\n        headers: new Headers({\r\n            'Content-Type': 'application/json; charset=UTF-8',\r\n            'Accept': 'application/json; charset=UTF-8'\r\n        })\r\n    })\r\n        .then(response => {\r\n            console.log('response=', response);\r\n            console.log('response.status', response.status);\r\n            console.log('response.ok', response.ok);\r\n            return response.json();\r\n        })\r\n\r\n    return user;\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}