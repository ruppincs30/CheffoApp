{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Shachar\\\\Desktop\\\\P\\\\reactHomeals\\\\screens\\\\Dashboard.js\";\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Picker } from '@react-native-picker/picker';\nimport { createMaterialBottomTabNavigator } from '@react-navigation/material-bottom-tabs';\nimport Background from \"../components/Background\";\nimport PaperButton from \"../components/Button\";\nimport { useUserContext } from \"../src/UserContext\";\nimport { SimpleLineIcons, AntDesign, Ionicons, Feather, MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\nimport { Divider, Slider } from 'react-native-elements';\nimport RestaurantCard from \"../components/RestaurantCard\";\nimport FriendsReviewsCard from \"../components/FriendsReviewsCard\";\nimport FriendCard from \"../components/FriendCard\";\nimport OrderCard from \"../components/OrderCard\";\nimport SearchSlider from \"../components/SearchSlider\";\nimport ImagePicker from \"../helpers/ImagePicker\";\nimport { SearchBar } from 'react-native-elements';\nimport { RadioButton } from 'react-native-paper';\nimport { set } from 'ol/transform';\nimport { Rating } from 'react-native-ratings';\n\nvar Dashboard = function Dashboard(_ref) {\n  var navigation = _ref.navigation;\n  var userContext = useUserContext();\n  var Tab = createMaterialBottomTabNavigator();\n\n  var _useUserContext = useUserContext(),\n      orderLoading = _useUserContext.orderLoading,\n      loading = _useUserContext.loading,\n      currentUser = _useUserContext.currentUser,\n      Logout = _useUserContext.Logout,\n      chefsArr = _useUserContext.chefsArr,\n      selectedChef = _useUserContext.selectedChef,\n      currentChefDishes = _useUserContext.currentChefDishes,\n      setCurrentChefDishes = _useUserContext.setCurrentChefDishes,\n      selectedImage = _useUserContext.selectedImage,\n      sliderValue = _useUserContext.sliderValue,\n      orders = _useUserContext.orders,\n      getOrders = _useUserContext.getOrders,\n      setCart = _useUserContext.setCart,\n      getFireStoreImg = _useUserContext.getFireStoreImg,\n      connectionsArr = _useUserContext.connectionsArr,\n      getConnections = _useUserContext.getConnections,\n      setFriendsArr = _useUserContext.setFriendsArr,\n      friendsSuggestion = _useUserContext.friendsSuggestion,\n      friendsArr = _useUserContext.friendsArr,\n      friendsReviews = _useUserContext.friendsReviews,\n      getFeed = _useUserContext.getFeed,\n      friendsArrDetails = _useUserContext.friendsArrDetails,\n      postReview = _useUserContext.postReview,\n      currentReview = _useUserContext.currentReview,\n      ratingsUpdated = _useUserContext.ratingsUpdated,\n      setRatingsUpdated = _useUserContext.setRatingsUpdated;\n\n  var _useState = useState('Rating'),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dChefs = _useState4[0],\n      setDChefs = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      search = _useState6[0],\n      setSearch = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      searchResult = _useState8[0],\n      setSearchResult = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      reviewModalShow = _useState10[0],\n      setReviewModalShow = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      currentOrder = _useState12[0],\n      setCurrentOrder = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      ratingChef = _useState14[0],\n      setRatingChef = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      ratingChefEmail = _useState16[0],\n      setRatingChefEmail = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      modalVisible = _useState18[0],\n      setModalVisible = _useState18[1];\n\n  var myData = [].concat(chefsArr).sort(function (a, b) {\n    return a.Rating < b.Rating ? 1 : -1;\n  });\n  var sortedOrders = [].concat(orders).sort(function (a, b) {\n    return a.OrderId < b.OrderId ? 1 : -1;\n  });\n  useEffect(function () {\n    if (currentChefDishes) {\n      navigation.navigate('DishesScreen');\n    }\n  }, [currentChefDishes]);\n  useEffect(function () {\n    if (friendsSuggestion == '') {\n      getConnections();\n      setDChefs(myData);\n    }\n  }, []);\n  useEffect(function () {\n    sortChefs(value);\n  }, [value]);\n  useEffect(function () {}, [dChefs]);\n\n  var sortChefs = function sortChefs(value) {\n    value == \"Rating\" ? sortByRating() : value == \"Distance\" ? sortByDistance() : sortByReviews();\n    console.log(chefsArr);\n    console.log(value);\n  };\n\n  var sortByRating = function sortByRating() {\n    if ((searchResult == null ? void 0 : searchResult.length) > 0) {\n      var chefsByRating = [].concat(chefsArr).sort(function (a, b) {\n        return a.Rating < b.Rating ? 1 : -1;\n      });\n      setSearchResult(chefsByRating);\n    } else {\n      var _chefsByRating = [].concat(myData).sort(function (a, b) {\n        return a.Rating < b.Rating ? 1 : -1;\n      });\n\n      setDChefs(_chefsByRating);\n    }\n  };\n\n  var sortByDistance = function sortByDistance() {\n    if ((searchResult == null ? void 0 : searchResult.length) > 0) {\n      var chefsByDistance = [].concat(searchResult).sort(function (a, b) {\n        return a.DisFromUser > b.DisFromUser ? 1 : -1;\n      });\n      setSearchResult(chefsByDistance);\n    } else {\n      var _chefsByDistance = [].concat(myData).sort(function (a, b) {\n        return a.DisFromUser > b.DisFromUser ? 1 : -1;\n      });\n\n      setDChefs(_chefsByDistance);\n    }\n  };\n\n  var sortByReviews = function sortByReviews() {\n    if ((searchResult == null ? void 0 : searchResult.length) > 0) {\n      var chefsByReviews = [].concat(chefsArr).sort(function (a, b) {\n        return a.NumOfReviews < b.NumOfReviews ? 1 : -1;\n      });\n      setSearchResult(chefsByReviews);\n    } else {\n      var _chefsByReviews = [].concat(myData).sort(function (a, b) {\n        return a.NumOfReviews < b.NumOfReviews ? 1 : -1;\n      });\n\n      setDChefs(_chefsByReviews);\n    }\n  };\n\n  function showRatingsModal(displayName, chefEmail) {\n    setRatingChef(displayName);\n    setRatingChefEmail(chefEmail);\n    setModalVisible(true);\n  }\n\n  function calcComputedRating(chef) {\n    console.log(\"123132213132132132132132213133221132132132123132231132132\");\n\n    if (chef) {\n      var ratingsAdded = chef.NumOfReviews;\n      var chefsNewRating = chef.Rating * ratingsAdded;\n\n      if (friendsReviews) {\n        friendsReviews.forEach(function (review) {\n          if (chef.Email == review.ChefEmail) {\n            ratingsAdded += Math.round(chef.NumOfReviews / 1);\n            chefsNewRating += review.ReviewRating * Math.round(chef.NumOfReviews / 1);\n          }\n        });\n      }\n\n      console.log(chefsNewRating / ratingsAdded);\n      return chefsNewRating / ratingsAdded;\n    }\n  }\n\n  function Search() {\n    var _this2 = this;\n\n    function updateSearch(searchVal) {\n      setSearch(searchVal);\n      setSearchResult([]);\n      var results = [];\n\n      if (searchVal) {\n        console.log(searchVal);\n        console.log(chefsArr);\n        myData.forEach(function (chef) {\n          var fullName = chef.DisplayName + ' ' + chef.Address + ' ' + chef.foodType;\n          fullName.toLowerCase().includes(searchVal.toLowerCase()) ? results.push(chef) : null;\n        });\n      }\n\n      setSearchResult(results);\n      console.log(results);\n    }\n\n    ;\n    var count = 0;\n    return React.createElement(ScrollView, {\n      style: {\n        marginTop: '5%',\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: {\n        backgroundColor: 'rgb(240, 240, 240)',\n        alignItems: 'center',\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }, React.createElement(SearchBar, {\n      containerStyle: {\n        width: \"100%\",\n        padding: \"1.5%\",\n        marginTop: \"3%\",\n        backgroundColor: \"rgb(248,248,248 / 0%)\"\n      },\n      lightTheme: true,\n      round: \"true\",\n      placeholder: \"Search ...\",\n      onChangeText: updateSearch,\n      value: search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }), React.createElement(RadioButton.Group, {\n      onValueChange: function onValueChange(newValue) {\n        return setValue(newValue);\n      },\n      value: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }\n    }, React.createElement(View, {\n      style: {\n        justifyContent: \"space-evenly\",\n        flexDirection: \"row\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: {\n        alignItems: \"center\",\n        flexDirection: \"row\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      style: styles.enhanceText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, \"Sort By: \")), React.createElement(View, {\n      style: {\n        alignItems: \"center\",\n        flexDirection: \"row\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, \"Rating\"), React.createElement(RadioButton, {\n      value: \"Rating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    })), React.createElement(View, {\n      style: {\n        alignItems: \"center\",\n        flexDirection: \"row\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, \"Distance\"), React.createElement(RadioButton, {\n      value: \"Distance\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    })), React.createElement(View, {\n      style: {\n        alignItems: \"center\",\n        flexDirection: \"row\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, \"# of Reviews\"), React.createElement(RadioButton, {\n      value: \"Reviews\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }\n    }))))), React.createElement(View, {\n      style: {\n        marginLeft: '2.5%',\n        marginTop: \"-4%\",\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }\n    }, search != \"\" ? searchResult != \"\" ? searchResult.map(function (item, key) {\n      return React.createElement(RestaurantCard, {\n        name: item.DisplayName,\n        img: item.Img,\n        city: item.Address,\n        originalRating: item.OriginalRating,\n        foodType: item.FoodType,\n        email: item.Email,\n        showModal: showRatingsModal,\n        numOfReviews: item.NumOfReviews,\n        disFromUser: item.DisFromUser,\n        lat: item.Lat,\n        lon: item.Lon,\n        key: key,\n        pNumber: item.PNumber,\n        onPress: function _callee() {\n          return _regeneratorRuntime.async(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  selectedChef(item.Email);\n                  setCart([]);\n\n                case 2:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 15\n        }\n      });\n    }) : React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }, \" No search results \") : myData ? React.createElement(View, {\n      style: {\n        marginTop: '5%',\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 15\n      }\n    }, React.createElement(SearchSlider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }), dChefs.reduce(function (a, b) {\n      return b.DisFromUser ? a : a + 1;\n    }, 0) == 0 ? dChefs.map(function (item, key) {\n      return sliderValue > item.DisFromUser ? React.createElement(RestaurantCard, {\n        name: item.DisplayName,\n        img: item.Img,\n        city: item.Address,\n        originalRating: item.OriginalRating,\n        numOfReviews: item.NumOfReviews,\n        pNumber: item.PNumber,\n        foodType: item.FoodType,\n        disFromUser: item.DisFromUser,\n        key: key,\n        showModal: showRatingsModal,\n        email: item.Email,\n        lat: item.Lat,\n        lon: item.Lon,\n        onPress: function _callee2() {\n          return _regeneratorRuntime.async(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  selectedChef(item.Email);\n                  setCart([]);\n\n                case 2:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }\n      }) : null;\n    }) : myData.map(function (item, key) {\n      return sliderValue > item.DisFromUser ? React.createElement(RestaurantCard, {\n        name: item.DisplayName,\n        img: item.Img,\n        city: item.Address,\n        originalRating: item.OriginalRating,\n        rating: item.Rating,\n        email: item.Email,\n        pNumber: item.PNumber,\n        showModal: showRatingsModal,\n        numOfReviews: item.NumOfReviews,\n        foodType: item.FoodType,\n        disFromUser: item.DisFromUser,\n        lat: item.Lat,\n        lon: item.Lon,\n        key: key,\n        onPress: function _callee3() {\n          return _regeneratorRuntime.async(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  selectedChef(item.Email);\n                  setCart([]);\n\n                case 2:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 25\n        }\n      }) : null;\n    })) : React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, \" No restaurant near you \")), React.createElement(Modal, {\n      animationType: \"fade\",\n      transparent: true,\n      visible: modalVisible,\n      onRequestClose: function onRequestClose() {\n        Alert.alert(\"Modal has been closed.\");\n        setModalVisible(!modalVisible);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.centeredView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }\n    }, React.createElement(View, {\n      style: styles.modalView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }\n    }, friendsReviews ? friendsReviews.map(function (item, key) {\n      return item.ChefEmail == ratingChefEmail ? React.createElement(Text, {\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.enhanceText,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 23\n        }\n      }, item.UserFirstName, \" \", item.UserLastName), \" rated: \", React.createElement(Text, {\n        style: styles.enhanceText,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 111\n        }\n      }, item.ReviewRating)) : null;\n    }) : null, React.createElement(View, {\n      style: [styles.modalTextTotal, {\n        marginBottom: '15%'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 15\n      }\n    }), React.createElement(Pressable, {\n      style: [styles.textStyle, styles.button, styles.buttonClose],\n      onPress: function onPress() {\n        setModalVisible(!modalVisible);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      style: styles.textStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }\n    }, \"Ok\"))))));\n  }\n\n  function _reviewOrder(order) {\n    setCurrentOrder(order);\n    console.log(order);\n    setReviewModalShow(true);\n  }\n\n  function saveReview(foodStars, serviceHearts, reviewDescription, currentOrderCopy) {\n    return _regeneratorRuntime.async(function saveReview$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regeneratorRuntime.awrap(postReview(foodStars, serviceHearts, reviewDescription, currentOrderCopy));\n\n          case 2:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function MyOrders() {\n    var _this3 = this;\n\n    var foodStars = 2.5;\n    var serviceHearts = 2.5;\n    var reviewDescription;\n    return orderLoading ? React.createElement(View, {\n      style: {\n        marginTop: \"10%\",\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontFamily: 'sans-serif-light',\n        color: \"#3ec92d\",\n        fontSize: 22\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }\n    }, \"My Orders\"), React.createElement(ScrollView, {\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }\n    }, React.createElement(View, {\n      style: {\n        marginTop: \"5%\",\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 13\n      }\n    }, sortedOrders != [] ? sortedOrders.map(function (item, key) {\n      return React.createElement(OrderCard, {\n        key: key,\n        Order: item,\n        Chef: chefsArr.filter(function (e) {\n          return e.Email === item.ChefEmail;\n        })[0],\n        reviewOrder: function reviewOrder() {\n          return _reviewOrder(item);\n        },\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 17\n        }\n      }, \" Review=\", currentReview);\n    }) : React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 19\n      }\n    }, \"No orders found\"))), React.createElement(Modal, {\n      animationType: \"fade\",\n      transparent: true,\n      visible: reviewModalShow,\n      onRequestClose: function onRequestClose() {\n        Alert.alert(\"Modal has been closed.\");\n        setReviewModalShow(!reviewModalShow);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 12\n      }\n    }, React.createElement(View, {\n      style: styles.centeredView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: styles.modalView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      style: [styles.modalText, styles.modalTextTotal],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }\n    }, \" Review \", currentOrder != null && currentOrder.Chef ? currentOrder.Chef : null, \" ! \"), React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: styles.modalText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 19\n      }\n    }, \" How was the food?\", React.createElement(Rating, {\n      type: \"star\",\n      ratingCount: 5,\n      imageSize: 40,\n      showRating: true,\n      fractions: 1,\n      onFinishRating: function onFinishRating(value) {\n        foodStars = value;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 21\n      }\n    }))), React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: styles.modalText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 19\n      }\n    }, \" How was the service?\", React.createElement(Rating, {\n      type: \"heart\",\n      ratingCount: 5,\n      imageSize: 40,\n      showRating: true,\n      fractions: 1,\n      onFinishRating: function onFinishRating(value) {\n        serviceHearts = value;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 21\n      }\n    }))), React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: styles.modalText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 19\n      }\n    }, \" Describe your experience\"), React.createElement(SafeAreaView, {\n      style: {\n        marginBottom: '25%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 19\n      }\n    }, React.createElement(TextInput, {\n      style: styles.input,\n      value: reviewDescription,\n      onChangeText: function onChangeText(text) {\n        reviewDescription = text;\n      },\n      multiline: true,\n      underlineColorAndroid: \"transparent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 21\n      }\n    }))), React.createElement(Pressable, {\n      style: [styles.textStyle, styles.button, styles.buttonClose],\n      onPress: function onPress() {\n        saveReview(foodStars, serviceHearts, reviewDescription, currentOrder);\n        setReviewModalShow(!reviewModalShow);\n        setCurrentOrder('');\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: styles.textStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 19\n      }\n    }, \"Save\")))))) : React.createElement(Image, {\n      source: require(\"../assets/loadingif.gif\"),\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 19\n      }\n    });\n  }\n\n  function Feed() {\n    var _this4 = this;\n\n    return React.createElement(View, {\n      style: {\n        marginTop: \"10%\",\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontFamily: 'sans-serif-light',\n        color: \"#3ec92d\",\n        fontSize: 22\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }\n    }, \"Feed\"), React.createElement(ScrollView, {\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }\n    }, friendsReviews ? friendsReviews.map(function (item, key) {\n      return React.createElement(FriendsReviewsCard, {\n        key: key,\n        reviewData: item,\n        __self: _this4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }\n      });\n    }) : React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 15\n      }\n    }, \"Feed is empty\")));\n  }\n\n  function Friends() {\n    navigation.navigate('FriendsScreen');\n    return null;\n  }\n\n  function Profile() {\n    return React.createElement(Background, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 7\n      }\n    }, React.createElement(PaperButton, {\n      style: {\n        marginLeft: 280\n      },\n      onPress: function onPress() {\n        return navigation.reset({\n          index: 0,\n          routes: [{\n            name: 'StartScreen'\n          }]\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }\n    }), React.createElement(Image, {\n      source: {\n        uri: currentUser.img\n      },\n      style: {\n        width: 200,\n        height: 200,\n        borderRadius: 200 / 2\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }\n    }), React.createElement(ImagePicker, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }\n    }), React.createElement(View, {\n      style: {\n        width: '100%',\n        paddingTop: 60,\n        paddingBottom: 60\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: styles.profileText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }\n    }, React.createElement(AntDesign, {\n      name: \"user\",\n      size: 24,\n      color: \"black\",\n      style: {\n        paddingRight: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 13\n      }\n    }), React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 13\n      }\n    }, \" \"), currentUser.firstName + \" \" + currentUser.lastName), React.createElement(Divider, {\n      style: StyleSheet.flatten(styles.profileDivider),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 11\n      }\n    }), React.createElement(Text, {\n      style: styles.profileText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 11\n      }\n    }, React.createElement(AntDesign, {\n      name: \"mail\",\n      size: 24,\n      color: \"black\",\n      style: {\n        paddingRight: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 13\n      }\n    }), React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 13\n      }\n    }, \" \"), currentUser.email), React.createElement(Divider, {\n      style: StyleSheet.flatten(styles.profileDivider),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 11\n      }\n    }), React.createElement(Text, {\n      style: styles.profileText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }\n    }, React.createElement(AntDesign, {\n      name: \"home\",\n      size: 24,\n      color: \"black\",\n      style: {\n        paddingRight: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 13\n      }\n    }), React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 13\n      }\n    }, \" \"), currentUser.city), React.createElement(Divider, {\n      style: StyleSheet.flatten(styles.profileDivider),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 11\n      }\n    }), React.createElement(Text, {\n      style: styles.profileText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 11\n      }\n    }, React.createElement(AntDesign, {\n      name: \"phone\",\n      size: 24,\n      color: \"black\",\n      style: {\n        paddingRight: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 13\n      }\n    }), React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 13\n      }\n    }, \" \"), currentUser.pNumber)), React.createElement(PaperButton, {\n      mode: \"outlined\",\n      onPress: function onPress() {\n        Logout();\n        navigation.reset({\n          index: 0,\n          routes: [{\n            name: 'StartScreen'\n          }]\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }\n    }, \"Logout\"));\n  }\n\n  function showMyFriends() {\n    var _this5 = this;\n\n    return React.createElement(View, {\n      style: {\n        marginTop: \"10%\",\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 7\n      }\n    }, React.createElement(ScrollView, {\n      style: {\n        height: \"60%\",\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: {\n        textAlign: 'center',\n        fontFamily: 'sans-serif-light',\n        color: \"#3ec92d\",\n        fontSize: 22\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 11\n      }\n    }, \"My Friends\"), friendsArrDetails ? friendsArrDetails.map(function (item, key) {\n      return React.createElement(FriendCard, {\n        key: key,\n        friendData: item,\n        __self: _this5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 13\n        }\n      });\n    }) : React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 15\n      }\n    }, \"You have no friends yet\")));\n  }\n\n  return loading ? React.createElement(Tab.Navigator, {\n    initialRouteName: \"Search\",\n    activeColor: \"#fff\",\n    barStyle: {\n      backgroundColor: 'rgb(243,119,0)'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 8\n    }\n  }, React.createElement(Tab.Screen, {\n    name: \"Search\",\n    component: Search,\n    options: {\n      tabBarLabel: 'Search',\n      tabBarIcon: function tabBarIcon(_ref2) {\n        var color = _ref2.color;\n        return React.createElement(AntDesign, {\n          name: \"search1\",\n          size: 20,\n          color: color,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 9\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"My Orders\",\n    component: MyOrders,\n    options: {\n      tabBarLabel: 'My Orders',\n      tabBarIcon: function tabBarIcon(_ref3) {\n        var color = _ref3.color;\n        return React.createElement(SimpleLineIcons, {\n          style: styles.tabIcon,\n          name: \"book-open\",\n          size: 20,\n          color: color,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }\n        });\n      }\n    },\n    listeners: function listeners() {\n      return {\n        tabPress: function tabPress(e) {\n          getOrders();\n        }\n      };\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 9\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Feed\",\n    component: Feed,\n    options: {\n      tabBarLabel: 'Feed',\n      tabBarIcon: function tabBarIcon(_ref4) {\n        var color = _ref4.color;\n        return React.createElement(SimpleLineIcons, {\n          style: styles.tabIcon,\n          name: \"feed\",\n          size: 20,\n          color: color,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 9\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Friends\",\n    component: Friends,\n    options: {\n      tabBarLabel: 'Friends',\n      tabBarIcon: function tabBarIcon(_ref5) {\n        var color = _ref5.color;\n        return React.createElement(SimpleLineIcons, {\n          name: \"people\",\n          size: 20,\n          color: color,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 9\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Profile\",\n    component: Profile,\n    options: {\n      tabBarLabel: 'Profile',\n      tabBarIcon: function tabBarIcon(_ref6) {\n        var color = _ref6.color;\n        return React.createElement(SimpleLineIcons, {\n          name: \"user\",\n          size: 20,\n          color: color,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 15\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 9\n    }\n  })) : React.createElement(Image, {\n    source: require(\"../assets/loadingif.gif\"),\n    style: {\n      width: '100%',\n      height: '100%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 27\n    }\n  });\n};\n\nvar styles = StyleSheet.create({\n  enhanceText: {\n    fontSize: 14,\n    fontWeight: \"bold\"\n  },\n  tabIcon: {\n    flex: 0,\n    paddingBottom: 10\n  },\n  fixToText: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  camera: {\n    position: 'absolute',\n    left: 66,\n    top: 200\n  },\n  gallery: {\n    position: 'absolute',\n    right: 66,\n    top: 200\n  },\n  profileText: {\n    fontSize: 20\n  },\n  profileDivider: {\n    backgroundColor: 'rgb(189 ,189 ,189)',\n    alignSelf: \"center\",\n    width: 350,\n    marginTop: 30,\n    marginBottom: 30\n  },\n  btn_container: {\n    flex: 1,\n    backgroundColor: \"#59a6eb\",\n    justifyContent: \"center\",\n    width: \"100%\",\n    elevation: 8,\n    borderRadius: 5,\n    margin: 1\n  },\n  circleButtonIcon: {\n    fontSize: 20,\n    height: 22,\n    color: \"white\"\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\",\n    fontSize: 14\n  },\n  modalTextHeader: {\n    marginBottom: 15,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    fontSize: 18\n  },\n  modalSubHeader: {\n    marginBottom: 15,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    fontSize: 16\n  },\n  modalTextTotal: {\n    marginBottom: 15,\n    textAlign: \"center\",\n    fontSize: 18,\n    borderBottomColor: '#c9c9c9',\n    borderBottomWidth: 1,\n    width: \"100%\",\n    paddingBottom: \"5%\"\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 40,\n    padding: 15,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n    width: '75%'\n  },\n  button: {\n    borderRadius: 10,\n    position: \"absolute\",\n    bottom: 8,\n    width: 80\n  },\n  buttonOpen: {\n    backgroundColor: 'rgb(62,197,0)'\n  },\n  buttonClose: {\n    backgroundColor: 'rgb(62,197,0)',\n    padding: 10\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  input: {\n    width: 200,\n    borderColor: '#c9c9c9',\n    borderWidth: 1\n  }\n});\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/Shachar/Desktop/P/reactHomeals/screens/Dashboard.js"],"names":["React","useContext","useState","useEffect","Picker","createMaterialBottomTabNavigator","Background","PaperButton","useUserContext","SimpleLineIcons","AntDesign","Ionicons","Feather","MaterialCommunityIcons","MaterialIcons","Divider","Slider","RestaurantCard","FriendsReviewsCard","FriendCard","OrderCard","SearchSlider","ImagePicker","SearchBar","RadioButton","set","Rating","Dashboard","navigation","userContext","Tab","orderLoading","loading","currentUser","Logout","chefsArr","selectedChef","currentChefDishes","setCurrentChefDishes","selectedImage","sliderValue","orders","getOrders","setCart","getFireStoreImg","connectionsArr","getConnections","setFriendsArr","friendsSuggestion","friendsArr","friendsReviews","getFeed","friendsArrDetails","postReview","currentReview","ratingsUpdated","setRatingsUpdated","value","setValue","dChefs","setDChefs","search","setSearch","searchResult","setSearchResult","reviewModalShow","setReviewModalShow","currentOrder","setCurrentOrder","ratingChef","setRatingChef","ratingChefEmail","setRatingChefEmail","modalVisible","setModalVisible","myData","concat","sort","a","b","sortedOrders","OrderId","navigate","sortChefs","sortByRating","sortByDistance","sortByReviews","console","log","length","chefsByRating","chefsByDistance","DisFromUser","chefsByReviews","NumOfReviews","showRatingsModal","displayName","chefEmail","calcComputedRating","chef","ratingsAdded","chefsNewRating","forEach","review","Email","ChefEmail","Math","round","ReviewRating","Search","updateSearch","searchVal","results","fullName","DisplayName","Address","foodType","toLowerCase","includes","push","count","marginTop","width","backgroundColor","alignItems","padding","newValue","justifyContent","flexDirection","styles","enhanceText","marginLeft","flex","map","item","key","Img","OriginalRating","FoodType","Lat","Lon","PNumber","reduce","Alert","alert","centeredView","modalView","UserFirstName","UserLastName","modalTextTotal","marginBottom","textStyle","button","buttonClose","reviewOrder","order","saveReview","foodStars","serviceHearts","reviewDescription","currentOrderCopy","MyOrders","fontFamily","color","fontSize","filter","e","modalText","Chef","input","text","require","height","Feed","Friends","Profile","reset","index","routes","name","uri","img","borderRadius","paddingTop","paddingBottom","profileText","paddingRight","firstName","lastName","StyleSheet","flatten","profileDivider","email","city","pNumber","showMyFriends","textAlign","tabBarLabel","tabBarIcon","tabIcon","tabPress","create","fontWeight","fixToText","camera","position","left","top","gallery","right","alignSelf","btn_container","elevation","margin","circleButtonIcon","modalTextHeader","modalSubHeader","borderBottomColor","borderBottomWidth","shadowColor","shadowOffset","shadowOpacity","shadowRadius","bottom","buttonOpen","borderColor","borderWidth"],"mappings":";;;;;;AACA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;;;;;;;;;;;;;AAEA,SAASC,MAAT,QAAuB,6BAAvB;AACA,SAASC,gCAAT,QAAiD,wCAAjD;AACA,OAAOC,UAAP;AACA,OAAOC,WAAP;AACA,SAASC,cAAT;AACA,SAASC,eAAT,EAA0BC,SAA1B,EAAqCC,QAArC,EAA+CC,OAA/C,EAAwDC,sBAAxD,EAAgFC,aAAhF,QAAqG,oBAArG;AACA,SAASC,OAAT,EAAkBC,MAAlB,QAAgC,uBAAhC;AACA,OAAOC,cAAP;AACA,OAAOC,kBAAP;AACA,OAAOC,UAAP;AACA,OAAOC,SAAP;AACA,OAAOC,YAAP;AACA,OAAOC,WAAP;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,SAASC,MAAT,QAAuB,sBAAvB;;AAGA,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAoB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;AACpC,MAAMC,WAAW,GAAGrB,cAAc,EAAlC;AACA,MAAMsB,GAAG,GAAGzB,gCAAgC,EAA5C;;AAFoC,wBAKyHG,cAAc,EALvI;AAAA,MAG5BuB,YAH4B,mBAG5BA,YAH4B;AAAA,MAGdC,OAHc,mBAGdA,OAHc;AAAA,MAGLC,WAHK,mBAGLA,WAHK;AAAA,MAGQC,MAHR,mBAGQA,MAHR;AAAA,MAGgBC,QAHhB,mBAGgBA,QAHhB;AAAA,MAG0BC,YAH1B,mBAG0BA,YAH1B;AAAA,MAGwCC,iBAHxC,mBAGwCA,iBAHxC;AAAA,MAG2DC,oBAH3D,mBAG2DA,oBAH3D;AAAA,MAIlCC,aAJkC,mBAIlCA,aAJkC;AAAA,MAInBC,WAJmB,mBAInBA,WAJmB;AAAA,MAINC,MAJM,mBAINA,MAJM;AAAA,MAIEC,SAJF,mBAIEA,SAJF;AAAA,MAIaC,OAJb,mBAIaA,OAJb;AAAA,MAIsBC,eAJtB,mBAIsBA,eAJtB;AAAA,MAIuCC,cAJvC,mBAIuCA,cAJvC;AAAA,MAIuDC,cAJvD,mBAIuDA,cAJvD;AAAA,MAKlCC,aALkC,mBAKlCA,aALkC;AAAA,MAKnBC,iBALmB,mBAKnBA,iBALmB;AAAA,MAKAC,UALA,mBAKAA,UALA;AAAA,MAKYC,cALZ,mBAKYA,cALZ;AAAA,MAK4BC,OAL5B,mBAK4BA,OAL5B;AAAA,MAKqCC,iBALrC,mBAKqCA,iBALrC;AAAA,MAKwDC,UALxD,mBAKwDA,UALxD;AAAA,MAKoEC,aALpE,mBAKoEA,aALpE;AAAA,MAKmFC,cALnF,mBAKmFA,cALnF;AAAA,MAKmGC,iBALnG,mBAKmGA,iBALnG;;AAAA,kBAMVtD,QAAQ,CAAC,QAAD,CANE;AAAA;AAAA,MAM7BuD,KAN6B;AAAA,MAMtBC,QANsB;;AAAA,mBAORxD,QAAQ,CAAC,EAAD,CAPA;AAAA;AAAA,MAO7ByD,MAP6B;AAAA,MAOrBC,SAPqB;;AAAA,mBAQR1D,QAAQ,CAAC,EAAD,CARA;AAAA;AAAA,MAQ7B2D,MAR6B;AAAA,MAQrBC,SARqB;;AAAA,mBASI5D,QAAQ,CAAC,EAAD,CATZ;AAAA;AAAA,MAS7B6D,YAT6B;AAAA,MASfC,eATe;;AAAA,mBAUU9D,QAAQ,CAAC,KAAD,CAVlB;AAAA;AAAA,MAU7B+D,eAV6B;AAAA,MAUZC,kBAVY;;AAAA,oBAWIhE,QAAQ,CAAC,EAAD,CAXZ;AAAA;AAAA,MAW7BiE,YAX6B;AAAA,MAWfC,eAXe;;AAAA,oBAYAlE,QAAQ,CAAC,EAAD,CAZR;AAAA;AAAA,MAY7BmE,UAZ6B;AAAA,MAYjBC,aAZiB;;AAAA,oBAaUpE,QAAQ,CAAC,EAAD,CAblB;AAAA;AAAA,MAa7BqE,eAb6B;AAAA,MAaZC,kBAbY;;AAAA,oBAcItE,QAAQ,CAAC,KAAD,CAdZ;AAAA;AAAA,MAc7BuE,YAd6B;AAAA,MAcfC,eAde;;AAepC,MAAMC,MAAM,GAAG,GAAGC,MAAH,CAAUzC,QAAV,EAAoB0C,IAApB,CAAyB,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUD,CAAC,CAACpD,MAAF,GAAWqD,CAAC,CAACrD,MAAb,GAAsB,CAAtB,GAA0B,CAAC,CAArC;AAAA,GAAzB,CAAf;AAEA,MAAMsD,YAAY,GAAG,GAAGJ,MAAH,CAAUnC,MAAV,EAClBoC,IADkB,CACb,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUD,CAAC,CAACG,OAAF,GAAYF,CAAC,CAACE,OAAd,GAAwB,CAAxB,GAA4B,CAAC,CAAvC;AAAA,GADa,CAArB;AAGA9E,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIkC,iBAAJ,EAAuB;AACrBT,MAAAA,UAAU,CAACsD,QAAX,CAAoB,cAApB;AACD;AACF,GAJQ,EAIN,CAAC7C,iBAAD,CAJM,CAAT;AAMAlC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI6C,iBAAiB,IAAI,EAAzB,EAA6B;AAC3BF,MAAAA,cAAc;AACdc,MAAAA,SAAS,CAACe,MAAD,CAAT;AACD;AACF,GALQ,EAKN,EALM,CAAT;AAOAxE,EAAAA,SAAS,CAAC,YAAM;AACdgF,IAAAA,SAAS,CAAC1B,KAAD,CAAT;AACD,GAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;AAIAtD,EAAAA,SAAS,CAAC,YAAM,CACf,CADQ,EACN,CAACwD,MAAD,CADM,CAAT;;AAMA,MAAMwB,SAAS,GAAG,SAAZA,SAAY,CAAC1B,KAAD,EAAW;AAC3BA,IAAAA,KAAK,IAAI,QAAT,GAAoB2B,YAAY,EAAhC,GAAqC3B,KAAK,IAAI,UAAT,GAAsB4B,cAAc,EAApC,GAAyCC,aAAa,EAA3F;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYrD,QAAZ;AACAoD,IAAAA,OAAO,CAACC,GAAR,CAAY/B,KAAZ;AACD,GAJD;;AAMA,MAAM2B,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,QAAI,CAAArB,YAAY,QAAZ,YAAAA,YAAY,CAAE0B,MAAd,IAAuB,CAA3B,EAA8B;AAC5B,UAAIC,aAAa,GAAG,GAAGd,MAAH,CAAUzC,QAAV,EACjB0C,IADiB,CACZ,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAUD,CAAC,CAACpD,MAAF,GAAWqD,CAAC,CAACrD,MAAb,GAAsB,CAAtB,GAA0B,CAAC,CAArC;AAAA,OADY,CAApB;AAEAsC,MAAAA,eAAe,CAAC0B,aAAD,CAAf;AACD,KAJD,MAKK;AACH,UAAIA,cAAa,GAAG,GAAGd,MAAH,CAAUD,MAAV,EACjBE,IADiB,CACZ,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAUD,CAAC,CAACpD,MAAF,GAAWqD,CAAC,CAACrD,MAAb,GAAsB,CAAtB,GAA0B,CAAC,CAArC;AAAA,OADY,CAApB;;AAEAkC,MAAAA,SAAS,CAAC8B,cAAD,CAAT;AACD;AACF,GAXD;;AAcA,MAAML,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,QAAI,CAAAtB,YAAY,QAAZ,YAAAA,YAAY,CAAE0B,MAAd,IAAuB,CAA3B,EAA8B;AAC5B,UAAIE,eAAe,GAAG,GAAGf,MAAH,CAAUb,YAAV,EACnBc,IADmB,CACd,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAUD,CAAC,CAACc,WAAF,GAAgBb,CAAC,CAACa,WAAlB,GAAgC,CAAhC,GAAoC,CAAC,CAA/C;AAAA,OADc,CAAtB;AAEA5B,MAAAA,eAAe,CAAC2B,eAAD,CAAf;AACD,KAJD,MAKK;AACH,UAAIA,gBAAe,GAAG,GAAGf,MAAH,CAAUD,MAAV,EACnBE,IADmB,CACd,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAUD,CAAC,CAACc,WAAF,GAAgBb,CAAC,CAACa,WAAlB,GAAgC,CAAhC,GAAoC,CAAC,CAA/C;AAAA,OADc,CAAtB;;AAEAhC,MAAAA,SAAS,CAAC+B,gBAAD,CAAT;AACD;AACF,GAXD;;AAaA,MAAML,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,QAAI,CAAAvB,YAAY,QAAZ,YAAAA,YAAY,CAAE0B,MAAd,IAAuB,CAA3B,EAA8B;AAC5B,UAAII,cAAc,GAAG,GAAGjB,MAAH,CAAUzC,QAAV,EAClB0C,IADkB,CACb,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAUD,CAAC,CAACgB,YAAF,GAAiBf,CAAC,CAACe,YAAnB,GAAkC,CAAlC,GAAsC,CAAC,CAAjD;AAAA,OADa,CAArB;AAEA9B,MAAAA,eAAe,CAAC6B,cAAD,CAAf;AACD,KAJD,MAKK;AACH,UAAIA,eAAc,GAAG,GAAGjB,MAAH,CAAUD,MAAV,EAClBE,IADkB,CACb,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAUD,CAAC,CAACgB,YAAF,GAAiBf,CAAC,CAACe,YAAnB,GAAkC,CAAlC,GAAsC,CAAC,CAAjD;AAAA,OADa,CAArB;;AAEAlC,MAAAA,SAAS,CAACiC,eAAD,CAAT;AACD;AACF,GAXD;;AAaA,WAASE,gBAAT,CAA0BC,WAA1B,EAAuCC,SAAvC,EAAkD;AAChD3B,IAAAA,aAAa,CAAC0B,WAAD,CAAb;AACAxB,IAAAA,kBAAkB,CAACyB,SAAD,CAAlB;AACAvB,IAAAA,eAAe,CAAC,IAAD,CAAf;AACD;;AACD,WAASwB,kBAAT,CAA4BC,IAA5B,EAAkC;AAChCZ,IAAAA,OAAO,CAACC,GAAR,CAAY,2DAAZ;;AACA,QAAIW,IAAJ,EAAU;AACR,UAAIC,YAAY,GAAGD,IAAI,CAACL,YAAxB;AACA,UAAIO,cAAc,GAAGF,IAAI,CAACzE,MAAL,GAAc0E,YAAnC;;AACA,UAAIlD,cAAJ,EAAoB;AAClBA,QAAAA,cAAc,CAACoD,OAAf,CAAuB,UAAAC,MAAM,EAAI;AAC/B,cAAIJ,IAAI,CAACK,KAAL,IAAcD,MAAM,CAACE,SAAzB,EAAoC;AAClCL,YAAAA,YAAY,IAAIM,IAAI,CAACC,KAAL,CAAWR,IAAI,CAACL,YAAL,GAAoB,CAA/B,CAAhB;AACAO,YAAAA,cAAc,IAAIE,MAAM,CAACK,YAAP,GAAuBF,IAAI,CAACC,KAAL,CAAWR,IAAI,CAACL,YAAL,GAAoB,CAA/B,CAAzC;AACD;AACF,SALD;AAMD;;AACDP,MAAAA,OAAO,CAACC,GAAR,CAAYa,cAAc,GAAGD,YAA7B;AACA,aAAQC,cAAc,GAAGD,YAAzB;AACD;AACF;;AAED,WAASS,MAAT,GAAkB;AAAA;;AAChB,aAASC,YAAT,CAAsBC,SAAtB,EAAiC;AAC/BjD,MAAAA,SAAS,CAACiD,SAAD,CAAT;AACA/C,MAAAA,eAAe,CAAC,EAAD,CAAf;AAEA,UAAIgD,OAAO,GAAG,EAAd;;AACA,UAAID,SAAJ,EAAe;AACbxB,QAAAA,OAAO,CAACC,GAAR,CAAYuB,SAAZ;AACAxB,QAAAA,OAAO,CAACC,GAAR,CAAYrD,QAAZ;AACAwC,QAAAA,MAAM,CAAC2B,OAAP,CAAe,UAAAH,IAAI,EAAI;AACrB,cAAIc,QAAQ,GAAGd,IAAI,CAACe,WAAL,GAAmB,GAAnB,GAAyBf,IAAI,CAACgB,OAA9B,GAAwC,GAAxC,GAA8ChB,IAAI,CAACiB,QAAlE;AACEH,UAAAA,QAAQ,CAACI,WAAT,GAAuBC,QAAvB,CAAgCP,SAAS,CAACM,WAAV,EAAhC,CAAD,GAA6DL,OAAO,CAACO,IAAR,CAAapB,IAAb,CAA7D,GAAkF,IAAnF;AACD,SAHD;AAID;;AACDnC,MAAAA,eAAe,CAACgD,OAAD,CAAf;AACAzB,MAAAA,OAAO,CAACC,GAAR,CAAYwB,OAAZ;AACD;;AAAA;AAED,QAAIQ,KAAK,GAAG,CAAZ;AACA,WAEE,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE,IAAb;AAAmBC,QAAAA,KAAK,EAAE;AAA1B,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEC,QAAAA,eAAe,EAAE,oBAAnB;AAAyCC,QAAAA,UAAU,EAAE,QAArD;AAA+DF,QAAAA,KAAK,EAAE;AAAtE,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AACE,MAAA,cAAc,EAAE;AAAEA,QAAAA,KAAK,EAAE,MAAT;AAAiBG,QAAAA,OAAO,EAAE,MAA1B;AAAkCJ,QAAAA,SAAS,EAAE,IAA7C;AAAmDE,QAAAA,eAAe,EAAE;AAApE,OADlB;AAEE,MAAA,UAAU,MAFZ;AAGE,MAAA,KAAK,EAAC,MAHR;AAIE,MAAA,WAAW,EAAC,YAJd;AAKE,MAAA,YAAY,EAAEb,YALhB;AAME,MAAA,KAAK,EAAEjD,MANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAUE,oBAAC,WAAD,CAAa,KAAb;AAAmB,MAAA,aAAa,EAAE,uBAAAiE,QAAQ;AAAA,eAAIpE,QAAQ,CAACoE,QAAD,CAAZ;AAAA,OAA1C;AAAkE,MAAA,KAAK,EAAErE,KAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEsE,QAAAA,cAAc,EAAE,cAAlB;AAAkCC,QAAAA,aAAa,EAAE;AAAjD,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEJ,QAAAA,UAAU,EAAE,QAAd;AAAwBI,QAAAA,aAAa,EAAE;AAAvC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEC,MAAM,CAACC,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADF,EAIE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEN,QAAAA,UAAU,EAAE,QAAd;AAAwBI,QAAAA,aAAa,EAAE;AAAvC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAJF,EAQE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEJ,QAAAA,UAAU,EAAE,QAAd;AAAwBI,QAAAA,aAAa,EAAE;AAAvC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAC,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CARF,EAYE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEJ,QAAAA,UAAU,EAAE,QAAd;AAAwBI,QAAAA,aAAa,EAAE;AAAvC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAZF,CADF,CAVF,CADF,EAgCE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEG,QAAAA,UAAU,EAAE,MAAd;AAAsBV,QAAAA,SAAS,EAAE,KAAjC;AAAwCW,QAAAA,IAAI,EAAE,CAA9C;AAAiDL,QAAAA,cAAc,EAAE,QAAjE;AAA2EH,QAAAA,UAAU,EAAE;AAAvF,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG/D,MAAM,IAAI,EAAV,GACCE,YAAY,IAAI,EAAhB,GAAqBA,YAAY,CAACsE,GAAb,CAAiB,UAACC,IAAD,EAAOC,GAAP;AAAA,aACpC,oBAAC,cAAD;AACE,QAAA,IAAI,EAAED,IAAI,CAACpB,WADb;AAC0B,QAAA,GAAG,EAAEoB,IAAI,CAACE,GADpC;AACyC,QAAA,IAAI,EAAEF,IAAI,CAACnB,OADpD;AAC6D,QAAA,cAAc,EAAEmB,IAAI,CAACG,cADlF;AACkG,QAAA,QAAQ,EAAEH,IAAI,CAACI,QADjH;AAC2H,QAAA,KAAK,EAAEJ,IAAI,CAAC9B,KADvI;AAEE,QAAA,SAAS,EAAET,gBAFb;AAE+B,QAAA,YAAY,EAAEuC,IAAI,CAACxC,YAFlD;AAEgE,QAAA,WAAW,EAAEwC,IAAI,CAAC1C,WAFlF;AAE+F,QAAA,GAAG,EAAE0C,IAAI,CAACK,GAFzG;AAE8G,QAAA,GAAG,EAAEL,IAAI,CAACM,GAFxH;AAE6H,QAAA,GAAG,EAAEL,GAFlI;AAEuI,QAAA,OAAO,EAAED,IAAI,CAACO,OAFrJ;AAGE,QAAA,OAAO,EAAE;AAAA;AAAA;AAAA;AAAA;AAEPzG,kBAAAA,YAAY,CAACkG,IAAI,CAAC9B,KAAN,CAAZ;AACA7D,kBAAAA,OAAO,CAAC,EAAD,CAAP;;AAHO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADoC;AAAA,KAAjB,CAArB,GAUI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAXL,GAaCgC,MAAM,GACJ,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAE8C,QAAAA,SAAS,EAAE,IAAb;AAAmBC,QAAAA,KAAK,EAAE;AAA1B,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEG/D,MAAM,CAACmF,MAAP,CAAc,UAAChE,CAAD,EAAIC,CAAJ;AAAA,aAAUA,CAAC,CAACa,WAAF,GAAgBd,CAAhB,GAAoBA,CAAC,GAAG,CAAlC;AAAA,KAAd,EAAmD,CAAnD,KAAyD,CAAzD,GAA6DnB,MAAM,CAAC0E,GAAP,CAAW,UAACC,IAAD,EAAOC,GAAP;AAAA,aACtE/F,WAAW,GAAG8F,IAAI,CAAC1C,WAApB,GACE,oBAAC,cAAD;AACE,QAAA,IAAI,EAAE0C,IAAI,CAACpB,WADb;AAC0B,QAAA,GAAG,EAAEoB,IAAI,CAACE,GADpC;AACyC,QAAA,IAAI,EAAEF,IAAI,CAACnB,OADpD;AAC6D,QAAA,cAAc,EAAEmB,IAAI,CAACG,cADlF;AACkG,QAAA,YAAY,EAAEH,IAAI,CAACxC,YADrH;AACmI,QAAA,OAAO,EAAEwC,IAAI,CAACO,OADjJ;AAEE,QAAA,QAAQ,EAAEP,IAAI,CAACI,QAFjB;AAE2B,QAAA,WAAW,EAAEJ,IAAI,CAAC1C,WAF7C;AAE0D,QAAA,GAAG,EAAE2C,GAF/D;AAEoE,QAAA,SAAS,EAAExC,gBAF/E;AAEiG,QAAA,KAAK,EAAEuC,IAAI,CAAC9B,KAF7G;AAEoH,QAAA,GAAG,EAAE8B,IAAI,CAACK,GAF9H;AAEmI,QAAA,GAAG,EAAEL,IAAI,CAACM,GAF7I;AAGE,QAAA,OAAO,EAAE;AAAA;AAAA;AAAA;AAAA;AACPxG,kBAAAA,YAAY,CAACkG,IAAI,CAAC9B,KAAN,CAAZ;AACA7D,kBAAAA,OAAO,CAAC,EAAD,CAAP;;AAFO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,GASI,IAVmE;AAAA,KAAX,CAA7D,GAUagC,MAAM,CAAC0D,GAAP,CAAW,UAACC,IAAD,EAAOC,GAAP;AAAA,aAClB/F,WAAW,GAAG8F,IAAI,CAAC1C,WAApB,GACE,oBAAC,cAAD;AACE,QAAA,IAAI,EAAE0C,IAAI,CAACpB,WADb;AAC0B,QAAA,GAAG,EAAEoB,IAAI,CAACE,GADpC;AACyC,QAAA,IAAI,EAAEF,IAAI,CAACnB,OADpD;AAC6D,QAAA,cAAc,EAAEmB,IAAI,CAACG,cADlF;AACkG,QAAA,MAAM,EAAEH,IAAI,CAAC5G,MAD/G;AACuH,QAAA,KAAK,EAAE4G,IAAI,CAAC9B,KADnI;AAC0I,QAAA,OAAO,EAAE8B,IAAI,CAACO,OADxJ;AAEE,QAAA,SAAS,EAAE9C,gBAFb;AAE+B,QAAA,YAAY,EAAEuC,IAAI,CAACxC,YAFlD;AAEgE,QAAA,QAAQ,EAAEwC,IAAI,CAACI,QAF/E;AAEyF,QAAA,WAAW,EAAEJ,IAAI,CAAC1C,WAF3G;AAEwH,QAAA,GAAG,EAAE0C,IAAI,CAACK,GAFlI;AAEuI,QAAA,GAAG,EAAEL,IAAI,CAACM,GAFjJ;AAEsJ,QAAA,GAAG,EAAEL,GAF3J;AAGE,QAAA,OAAO,EAAE;AAAA;AAAA;AAAA;AAAA;AACPnG,kBAAAA,YAAY,CAACkG,IAAI,CAAC9B,KAAN,CAAZ;AACA7D,kBAAAA,OAAO,CAAC,EAAD,CAAP;;AAFO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,GASI,IAVe;AAAA,KAAX,CAZhB,CADI,GAyBF,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAvCR,CAhCF,EA0EE,oBAAC,KAAD;AACE,MAAA,aAAa,EAAC,MADhB;AAEE,MAAA,WAAW,EAAE,IAFf;AAGE,MAAA,OAAO,EAAE8B,YAHX;AAIE,MAAA,cAAc,EAAE,0BAAM;AACpBsE,QAAAA,KAAK,CAACC,KAAN,CAAY,wBAAZ;AACAtE,QAAAA,eAAe,CAAC,CAACD,YAAF,CAAf;AACD,OAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAUE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEwD,MAAM,CAACgB,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEhB,MAAM,CAACiB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGGhG,cAAc,GAAGA,cAAc,CAACmF,GAAf,CAAmB,UAACC,IAAD,EAAOC,GAAP;AAAA,aAAeD,IAAI,CAAC7B,SAAL,IAAkBlC,eAAlB,GAClD,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE0D,MAAM,CAACC,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkCI,IAAI,CAACa,aAAvC,OAAuDb,IAAI,CAACc,YAA5D,CAAN,cAA8F,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEnB,MAAM,CAACC,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkCI,IAAI,CAAC1B,YAAvC,CAA9F,CADkD,GAEhD,IAFiC;AAAA,KAAnB,CAAH,GAGX,IANN,EAOE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACqB,MAAM,CAACoB,cAAR,EAAwB;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAxB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,EAQE,oBAAC,SAAD;AACE,MAAA,KAAK,EAAE,CAACrB,MAAM,CAACsB,SAAR,EAAmBtB,MAAM,CAACuB,MAA1B,EAAkCvB,MAAM,CAACwB,WAAzC,CADT;AAEE,MAAA,OAAO,EAAE,mBAAM;AACb/E,QAAAA,eAAe,CAAC,CAACD,YAAF,CAAf;AACD,OAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEwD,MAAM,CAACsB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF,CARF,CADF,CAVF,CA1EF,CAFF;AA+GD;;AACD,WAASG,YAAT,CAAqBC,KAArB,EAA4B;AAC1BvF,IAAAA,eAAe,CAACuF,KAAD,CAAf;AACApE,IAAAA,OAAO,CAACC,GAAR,CAAYmE,KAAZ;AACAzF,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACD;;AAED,WAAe0F,UAAf,CAA0BC,SAA1B,EAAqCC,aAArC,EAAoDC,iBAApD,EAAuEC,gBAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACQ3G,UAAU,CAACwG,SAAD,EAAYC,aAAZ,EAA2BC,iBAA3B,EAA8CC,gBAA9C,CADlB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMA,WAASC,QAAT,GAAoB;AAAA;;AAClB,QAAIJ,SAAS,GAAG,GAAhB;AACA,QAAIC,aAAa,GAAG,GAApB;AACA,QAAIC,iBAAJ;AACA,WACEhI,YAAY,GACV,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAE0F,QAAAA,SAAS,EAAE,KAAb;AAAoBW,QAAAA,IAAI,EAAE,CAA1B;AAA6BL,QAAAA,cAAc,EAAE,QAA7C;AAAuDH,QAAAA,UAAU,EAAE;AAAnE,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEsC,QAAAA,UAAU,EAAE,kBAAd;AAAkCC,QAAAA,KAAK,EAAE,SAAzC;AAAoDC,QAAAA,QAAQ,EAAE;AAA9D,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAE;AAAE1C,QAAAA,KAAK,EAAE;AAAT,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAED,QAAAA,SAAS,EAAE,IAAb;AAAmBW,QAAAA,IAAI,EAAE,CAAzB;AAA4BL,QAAAA,cAAc,EAAE,QAA5C;AAAsDH,QAAAA,UAAU,EAAE;AAAlE,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG5C,YAAY,IAAI,EAAhB,GAAqBA,YAAY,CAACqD,GAAb,CAAiB,UAACC,IAAD,EAAOC,GAAP;AAAA,aACrC,oBAAC,SAAD;AAAW,QAAA,GAAG,EAAEA,GAAhB;AAAqB,QAAA,KAAK,EAAED,IAA5B;AAAkC,QAAA,IAAI,EAAEnG,QAAQ,CAACkI,MAAT,CAAgB,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAAC9D,KAAF,KAAY8B,IAAI,CAAC7B,SAArB;AAAA,SAAjB,EAAiD,CAAjD,CAAxC;AAA6F,QAAA,WAAW,EAAE;AAAA,iBAAMiD,YAAW,CAACpB,IAAD,CAAjB;AAAA,SAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAA4IhF,aAA5I,CADqC;AAAA,KAAjB,CAArB,GAEG,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAHN,CADF,CAFF,EASG,oBAAC,KAAD;AACC,MAAA,aAAa,EAAC,MADf;AAEC,MAAA,WAAW,EAAE,IAFd;AAGC,MAAA,OAAO,EAAEW,eAHV;AAIC,MAAA,cAAc,EAAE,0BAAM;AACpB8E,QAAAA,KAAK,CAACC,KAAN,CAAY,wBAAZ;AACA9E,QAAAA,kBAAkB,CAAC,CAACD,eAAF,CAAlB;AACD,OAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAUC,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEgE,MAAM,CAACgB,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEhB,MAAM,CAACiB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACjB,MAAM,CAACsC,SAAR,EAAmBtC,MAAM,CAACoB,cAA1B,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAiElF,YAAY,QAAZ,IAAAA,YAAY,CAAEqG,IAAd,GAAqBrG,YAAY,CAACqG,IAAlC,GAAyC,IAA1G,QADF,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEvC,MAAM,CAACsC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BACE,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,WAAW,EAAE,CAFf;AAGE,MAAA,SAAS,EAAE,EAHb;AAIE,MAAA,UAAU,MAJZ;AAKE,MAAA,SAAS,EAAE,CALb;AAME,MAAA,cAAc,EAAE,wBAAU9G,KAAV,EAAiB;AAAEoG,QAAAA,SAAS,GAAGpG,KAAZ;AAAmB,OANxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAFF,EAcE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEwE,MAAM,CAACsC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCACE,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,WAAW,EAAE,CAFf;AAGE,MAAA,SAAS,EAAE,EAHb;AAIE,MAAA,UAAU,MAJZ;AAKE,MAAA,SAAS,EAAE,CALb;AAME,MAAA,cAAc,EAAE,wBAAU9G,KAAV,EAAiB;AAAEqG,QAAAA,aAAa,GAAGrG,KAAhB;AAAuB,OAN5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAdF,EA0BE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEwE,MAAM,CAACsC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADF,EAGE,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAE;AAAEjB,QAAAA,YAAY,EAAE;AAAhB,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AACE,MAAA,KAAK,EAAErB,MAAM,CAACwC,KADhB;AAEE,MAAA,KAAK,EAAEV,iBAFT;AAGE,MAAA,YAAY,EAAE,sBAAUW,IAAV,EAAgB;AAAEX,QAAAA,iBAAiB,GAAGW,IAApB;AAA0B,OAH5D;AAIE,MAAA,SAAS,EAAE,IAJb;AAKE,MAAA,qBAAqB,EAAC,aALxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAHF,CA1BF,EAwCE,oBAAC,SAAD;AACE,MAAA,KAAK,EAAE,CAACzC,MAAM,CAACsB,SAAR,EAAmBtB,MAAM,CAACuB,MAA1B,EAAkCvB,MAAM,CAACwB,WAAzC,CADT;AAEE,MAAA,OAAO,EAAE,mBAAM;AACbG,QAAAA,UAAU,CAACC,SAAD,EAAYC,aAAZ,EAA2BC,iBAA3B,EAA8C5F,YAA9C,CAAV;AACAD,QAAAA,kBAAkB,CAAC,CAACD,eAAF,CAAlB;AACAG,QAAAA,eAAe,CAAC,EAAD,CAAf;AACD,OANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE6D,MAAM,CAACsB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,CAxCF,CADF,CAVD,CATH,CADU,GA6EA,oBAAC,KAAD;AACR,MAAA,MAAM,EAAEoB,OAAO,2BADP;AAER,MAAA,KAAK,EAAE;AAAEjD,QAAAA,KAAK,EAAE,MAAT;AAAiBkD,QAAAA,MAAM,EAAE;AAAzB,OAFC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9Ed;AAkFD;;AACD,WAASC,IAAT,GAAgB;AAAA;;AACd,WACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEpD,QAAAA,SAAS,EAAE,KAAb;AAAoBW,QAAAA,IAAI,EAAE,CAA1B;AAA6BL,QAAAA,cAAc,EAAE,QAA7C;AAAuDH,QAAAA,UAAU,EAAE;AAAnE,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEsC,QAAAA,UAAU,EAAE,kBAAd;AAAkCC,QAAAA,KAAK,EAAE,SAAzC;AAAoDC,QAAAA,QAAQ,EAAE;AAA9D,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAE;AAAE1C,QAAAA,KAAK,EAAE;AAAT,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGxE,cAAc,GAAGA,cAAc,CAACmF,GAAf,CAAmB,UAACC,IAAD,EAAOC,GAAP;AAAA,aACnC,oBAAC,kBAAD;AAAoB,QAAA,GAAG,EAAEA,GAAzB;AACE,QAAA,UAAU,EAAED,IADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADmC;AAAA,KAAnB,CAAH,GAKX,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANN,CAFF,CADF;AAeD;;AAGD,WAASwC,OAAT,GAAmB;AACjBlJ,IAAAA,UAAU,CAACsD,QAAX,CAAoB,eAApB;AACA,WACE,IADF;AAID;;AAED,WAAS6F,OAAT,GAAmB;AACjB,WACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAE;AAAE5C,QAAAA,UAAU,EAAE;AAAd,OAApB;AACE,MAAA,OAAO,EAAE;AAAA,eACPvG,UAAU,CAACoJ,KAAX,CAAiB;AACfC,UAAAA,KAAK,EAAE,CADQ;AAEfC,UAAAA,MAAM,EAAE,CAAC;AAAEC,YAAAA,IAAI,EAAE;AAAR,WAAD;AAFO,SAAjB,CADO;AAAA,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAUE,oBAAC,KAAD;AACE,MAAA,MAAM,EAAE;AAAEC,QAAAA,GAAG,EAAEnJ,WAAW,CAACoJ;AAAnB,OADV;AAEE,MAAA,KAAK,EAAE;AAAE3D,QAAAA,KAAK,EAAE,GAAT;AAAckD,QAAAA,MAAM,EAAE,GAAtB;AAA2BU,QAAAA,YAAY,EAAE,MAAM;AAA/C,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,EAcE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,EAeE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAE5D,QAAAA,KAAK,EAAE,MAAT;AAAiB6D,QAAAA,UAAU,EAAE,EAA7B;AAAiCC,QAAAA,aAAa,EAAE;AAAhD,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEvD,MAAM,CAACwD,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAW,MAAA,IAAI,EAAC,MAAhB;AAAuB,MAAA,IAAI,EAAE,EAA7B;AAAiC,MAAA,KAAK,EAAC,OAAvC;AAA+C,MAAA,KAAK,EAAE;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,EAEiBzJ,WAAW,CAAC0J,SAAZ,GAAwB,GAAxB,GAA8B1J,WAAW,CAAC2J,QAF3D,CADF,EAIE,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAEC,UAAU,CAACC,OAAX,CAAmB7D,MAAM,CAAC8D,cAA1B,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE9D,MAAM,CAACwD,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAW,MAAA,IAAI,EAAC,MAAhB;AAAuB,MAAA,IAAI,EAAE,EAA7B;AAAiC,MAAA,KAAK,EAAC,OAAvC;AAA+C,MAAA,KAAK,EAAE;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,EAEiBzJ,WAAW,CAAC+J,KAF7B,CALF,EAQE,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAEH,UAAU,CAACC,OAAX,CAAmB7D,MAAM,CAAC8D,cAA1B,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,EASE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE9D,MAAM,CAACwD,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAW,MAAA,IAAI,EAAC,MAAhB;AAAuB,MAAA,IAAI,EAAE,EAA7B;AAAiC,MAAA,KAAK,EAAC,OAAvC;AAA+C,MAAA,KAAK,EAAE;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,EAEiBzJ,WAAW,CAACgK,IAF7B,CATF,EAYE,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAEJ,UAAU,CAACC,OAAX,CAAmB7D,MAAM,CAAC8D,cAA1B,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZF,EAaE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE9D,MAAM,CAACwD,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAW,MAAA,IAAI,EAAC,OAAhB;AAAwB,MAAA,IAAI,EAAE,EAA9B;AAAkC,MAAA,KAAK,EAAC,OAAxC;AAAgD,MAAA,KAAK,EAAE;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,EAEiBzJ,WAAW,CAACiK,OAF7B,CAbF,CAfF,EAiCE,oBAAC,WAAD;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,OAAO,EAAE,mBAAM;AACbhK,QAAAA,MAAM;AACNN,QAAAA,UAAU,CAACoJ,KAAX,CAAiB;AACfC,UAAAA,KAAK,EAAE,CADQ;AAEfC,UAAAA,MAAM,EAAE,CAAC;AAAEC,YAAAA,IAAI,EAAE;AAAR,WAAD;AAFO,SAAjB;AAID,OARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjCF,CADF;AAkDD;;AAED,WAASgB,aAAT,GAAyB;AAAA;;AACvB,WACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAE1E,QAAAA,SAAS,EAAE,KAAb;AAAoBW,QAAAA,IAAI,EAAE,CAA1B;AAA6BL,QAAAA,cAAc,EAAE,QAA7C;AAAuDH,QAAAA,UAAU,EAAE;AAAnE,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAE;AAAEgD,QAAAA,MAAM,EAAE,KAAV;AAAiBlD,QAAAA,KAAK,EAAE;AAAxB,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAE0E,QAAAA,SAAS,EAAE,QAAb;AAAuBlC,QAAAA,UAAU,EAAE,kBAAnC;AAAuDC,QAAAA,KAAK,EAAE,SAA9D;AAAyEC,QAAAA,QAAQ,EAAE;AAAnF,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEGhH,iBAAiB,GAAGA,iBAAiB,CAACiF,GAAlB,CAAsB,UAACC,IAAD,EAAOC,GAAP;AAAA,aACzC,oBAAC,UAAD;AAAY,QAAA,GAAG,EAAEA,GAAjB;AACE,QAAA,UAAU,EAAED,IADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADyC;AAAA,KAAtB,CAAH,GAId,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCANN,CADF,CADF;AAYD;;AAED,SACEtG,OAAO,GACJ,oBAAC,GAAD,CAAK,SAAL;AACC,IAAA,gBAAgB,EAAC,QADlB;AAEC,IAAA,WAAW,EAAC,MAFb;AAGC,IAAA,QAAQ,EAAE;AAAE2F,MAAAA,eAAe,EAAE;AAAnB,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMC,oBAAC,GAAD,CAAK,MAAL;AAAY,IAAA,IAAI,EAAC,QAAjB;AAA0B,IAAA,SAAS,EAAEd,MAArC;AACE,IAAA,OAAO,EAAE;AACPwF,MAAAA,WAAW,EAAE,QADN;AAEPC,MAAAA,UAAU,EAAE;AAAA,YAAGnC,KAAH,SAAGA,KAAH;AAAA,eACV,oBAAC,SAAD;AAAW,UAAA,IAAI,EAAC,SAAhB;AAA0B,UAAA,IAAI,EAAE,EAAhC;AAAoC,UAAA,KAAK,EAAEA,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADU;AAAA;AAFL,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAND,EAeC,oBAAC,GAAD,CAAK,MAAL;AAAY,IAAA,IAAI,EAAC,WAAjB;AAA6B,IAAA,SAAS,EAAEF,QAAxC;AACE,IAAA,OAAO,EAAE;AACPoC,MAAAA,WAAW,EAAE,WADN;AAEPC,MAAAA,UAAU,EAAE;AAAA,YAAGnC,KAAH,SAAGA,KAAH;AAAA,eACV,oBAAC,eAAD;AAAiB,UAAA,KAAK,EAAElC,MAAM,CAACsE,OAA/B;AAAwC,UAAA,IAAI,EAAC,WAA7C;AAAyD,UAAA,IAAI,EAAE,EAA/D;AAAmE,UAAA,KAAK,EAAEpC,KAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADU;AAAA;AAFL,KADX;AAOE,IAAA,SAAS,EAAE;AAAA,aAAO;AAAEqC,QAAAA,QAAQ,EAAE,kBAAAlC,CAAC,EAAI;AAAE5H,UAAAA,SAAS;AAAI;AAAhC,OAAP;AAAA,KAPb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfD,EAwBC,oBAAC,GAAD,CAAK,MAAL;AAAY,IAAA,IAAI,EAAC,MAAjB;AAAwB,IAAA,SAAS,EAAEmI,IAAnC;AACE,IAAA,OAAO,EAAE;AACPwB,MAAAA,WAAW,EAAE,MADN;AAEPC,MAAAA,UAAU,EAAE;AAAA,YAAGnC,KAAH,SAAGA,KAAH;AAAA,eACV,oBAAC,eAAD;AAAiB,UAAA,KAAK,EAAElC,MAAM,CAACsE,OAA/B;AAAwC,UAAA,IAAI,EAAC,MAA7C;AAAoD,UAAA,IAAI,EAAE,EAA1D;AAA8D,UAAA,KAAK,EAAEpC,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADU;AAAA;AAFL,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBD,EAmCC,oBAAC,GAAD,CAAK,MAAL;AAAY,IAAA,IAAI,EAAC,SAAjB;AAA2B,IAAA,SAAS,EAAEW,OAAtC;AACE,IAAA,OAAO,EAAE;AACPuB,MAAAA,WAAW,EAAE,SADN;AAEPC,MAAAA,UAAU,EAAE;AAAA,YAAGnC,KAAH,SAAGA,KAAH;AAAA,eACV,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAC,QAAtB;AAA+B,UAAA,IAAI,EAAE,EAArC;AAAyC,UAAA,KAAK,EAAEA,KAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADU;AAAA;AAFL,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnCD,EA8CC,oBAAC,GAAD,CAAK,MAAL;AAAY,IAAA,IAAI,EAAC,SAAjB;AAA2B,IAAA,SAAS,EAAEY,OAAtC;AACE,IAAA,OAAO,EAAE;AACPsB,MAAAA,WAAW,EAAE,SADN;AAEPC,MAAAA,UAAU,EAAE;AAAA,YAAGnC,KAAH,SAAGA,KAAH;AAAA,eACV,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAC,MAAtB;AAA6B,UAAA,IAAI,EAAE,EAAnC;AAAuC,UAAA,KAAK,EAAEA,KAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADU;AAAA;AAFL,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9CD,CADI,GAwDe,oBAAC,KAAD;AAClB,IAAA,MAAM,EAAEQ,OAAO,2BADG;AAElB,IAAA,KAAK,EAAE;AAAEjD,MAAAA,KAAK,EAAE,MAAT;AAAiBkD,MAAAA,MAAM,EAAE;AAAzB,KAFW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzDxB;AA8DD,CAnfD;;AAqfA,IAAM3C,MAAM,GAAG4D,UAAU,CAACY,MAAX,CAAkB;AAC/BvE,EAAAA,WAAW,EAAE;AACXkC,IAAAA,QAAQ,EAAE,EADC;AAEXsC,IAAAA,UAAU,EAAE;AAFD,GADkB;AAK/BH,EAAAA,OAAO,EAAE;AACPnE,IAAAA,IAAI,EAAE,CADC;AAEPoD,IAAAA,aAAa,EAAE;AAFR,GALsB;AAS/BmB,EAAAA,SAAS,EAAE;AACT3E,IAAAA,aAAa,EAAE,KADN;AAETD,IAAAA,cAAc,EAAE;AAFP,GAToB;AAc/B6E,EAAAA,MAAM,EAAE;AACNC,IAAAA,QAAQ,EAAE,UADJ;AAENC,IAAAA,IAAI,EAAE,EAFA;AAGNC,IAAAA,GAAG,EAAE;AAHC,GAduB;AAmB/BC,EAAAA,OAAO,EAAE;AACPH,IAAAA,QAAQ,EAAE,UADH;AAEPI,IAAAA,KAAK,EAAE,EAFA;AAGPF,IAAAA,GAAG,EAAE;AAHE,GAnBsB;AAwB/BtB,EAAAA,WAAW,EAAE;AACXrB,IAAAA,QAAQ,EAAE;AADC,GAxBkB;AA4B/B2B,EAAAA,cAAc,EAAE;AACdpE,IAAAA,eAAe,EAAE,oBADH;AAEduF,IAAAA,SAAS,EAAE,QAFG;AAGdxF,IAAAA,KAAK,EAAE,GAHO;AAIdD,IAAAA,SAAS,EAAE,EAJG;AAKd6B,IAAAA,YAAY,EAAE;AALA,GA5Be;AAoC/B6D,EAAAA,aAAa,EAAE;AACb/E,IAAAA,IAAI,EAAE,CADO;AAEbT,IAAAA,eAAe,EAAE,SAFJ;AAGbI,IAAAA,cAAc,EAAE,QAHH;AAIbL,IAAAA,KAAK,EAAE,MAJM;AAKb0F,IAAAA,SAAS,EAAE,CALE;AAMb9B,IAAAA,YAAY,EAAE,CAND;AAOb+B,IAAAA,MAAM,EAAE;AAPK,GApCgB;AA6C/BC,EAAAA,gBAAgB,EAAE;AAChBlD,IAAAA,QAAQ,EAAE,EADM;AAEhBQ,IAAAA,MAAM,EAAE,EAFQ;AAGhBT,IAAAA,KAAK,EAAE;AAHS,GA7Ca;AAkD/BlB,EAAAA,YAAY,EAAE;AACZb,IAAAA,IAAI,EAAE,CADM;AAEZL,IAAAA,cAAc,EAAE,QAFJ;AAGZH,IAAAA,UAAU,EAAE,QAHA;AAIZH,IAAAA,SAAS,EAAE;AAJC,GAlDiB;AAwD/B8C,EAAAA,SAAS,EAAE;AACTjB,IAAAA,YAAY,EAAE,EADL;AAET8C,IAAAA,SAAS,EAAE,QAFF;AAGThC,IAAAA,QAAQ,EAAE;AAHD,GAxDoB;AA6D/BmD,EAAAA,eAAe,EAAE;AACfjE,IAAAA,YAAY,EAAE,EADC;AAEf8C,IAAAA,SAAS,EAAE,QAFI;AAGfM,IAAAA,UAAU,EAAE,MAHG;AAIftC,IAAAA,QAAQ,EAAE;AAJK,GA7Dc;AAmE/BoD,EAAAA,cAAc,EAAE;AACdlE,IAAAA,YAAY,EAAE,EADA;AAEd8C,IAAAA,SAAS,EAAE,QAFG;AAGdM,IAAAA,UAAU,EAAE,MAHE;AAIdtC,IAAAA,QAAQ,EAAE;AAJI,GAnEe;AA0E/Bf,EAAAA,cAAc,EAAE;AACdC,IAAAA,YAAY,EAAE,EADA;AAEd8C,IAAAA,SAAS,EAAE,QAFG;AAGdhC,IAAAA,QAAQ,EAAE,EAHI;AAIdqD,IAAAA,iBAAiB,EAAE,SAJL;AAKdC,IAAAA,iBAAiB,EAAE,CALL;AAMdhG,IAAAA,KAAK,EAAE,MANO;AAOd8D,IAAAA,aAAa,EAAE;AAPD,GA1Ee;AAmF/BtC,EAAAA,SAAS,EAAE;AACTmE,IAAAA,MAAM,EAAE,EADC;AAET1F,IAAAA,eAAe,EAAE,OAFR;AAGT2D,IAAAA,YAAY,EAAE,EAHL;AAITzD,IAAAA,OAAO,EAAE,EAJA;AAKTD,IAAAA,UAAU,EAAE,QALH;AAMT+F,IAAAA,WAAW,EAAE,MANJ;AAOTC,IAAAA,YAAY,EAAE;AACZlG,MAAAA,KAAK,EAAE,CADK;AAEZkD,MAAAA,MAAM,EAAE;AAFI,KAPL;AAWTiD,IAAAA,aAAa,EAAE,IAXN;AAYTC,IAAAA,YAAY,EAAE,CAZL;AAaTV,IAAAA,SAAS,EAAE,CAbF;AAcT1F,IAAAA,KAAK,EAAE;AAdE,GAnFoB;AAoG/B8B,EAAAA,MAAM,EAAE;AACN8B,IAAAA,YAAY,EAAE,EADR;AAENuB,IAAAA,QAAQ,EAAE,UAFJ;AAGNkB,IAAAA,MAAM,EAAE,CAHF;AAINrG,IAAAA,KAAK,EAAE;AAJD,GApGuB;AA0G/BsG,EAAAA,UAAU,EAAE;AACVrG,IAAAA,eAAe,EAAE;AADP,GA1GmB;AA6G/B8B,EAAAA,WAAW,EAAE;AACX9B,IAAAA,eAAe,EAAE,eADN;AAEXE,IAAAA,OAAO,EAAE;AAFE,GA7GkB;AAiH/B0B,EAAAA,SAAS,EAAE;AACTY,IAAAA,KAAK,EAAE,OADE;AAETuC,IAAAA,UAAU,EAAE,MAFH;AAGTN,IAAAA,SAAS,EAAE;AAHF,GAjHoB;AAsH/B3B,EAAAA,KAAK,EAAE;AACL/C,IAAAA,KAAK,EAAE,GADF;AAELuG,IAAAA,WAAW,EAAE,SAFR;AAGLC,IAAAA,WAAW,EAAE;AAHR;AAtHwB,CAAlB,CAAf;AA6HA,eAAevM,SAAf","sourcesContent":["\r\nimport React, { useContext, useState, useEffect } from 'react'\r\nimport { Text, View, StyleSheet, Image, ScrollView, Modal, Pressable, SafeAreaView, Animated, Alert, Button, TextInput } from 'react-native';\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport { createMaterialBottomTabNavigator } from '@react-navigation/material-bottom-tabs';\r\nimport Background from '../components/Background'\r\nimport PaperButton from '../components/Button'\r\nimport { useUserContext } from \"../src/UserContext\"\r\nimport { SimpleLineIcons, AntDesign, Ionicons, Feather, MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\r\nimport { Divider, Slider } from 'react-native-elements';\r\nimport RestaurantCard from '../components/RestaurantCard'\r\nimport FriendsReviewsCard from '../components/FriendsReviewsCard'\r\nimport FriendCard from '../components/FriendCard'\r\nimport OrderCard from '../components/OrderCard'\r\nimport SearchSlider from '../components/SearchSlider'\r\nimport ImagePicker from '../helpers/ImagePicker'\r\nimport { SearchBar } from 'react-native-elements';\r\nimport { RadioButton } from 'react-native-paper';\r\nimport { set } from 'ol/transform';\r\nimport { Rating } from 'react-native-ratings';\r\n\r\n\r\nconst Dashboard = ({ navigation }) => {\r\n  const userContext = useUserContext()\r\n  const Tab = createMaterialBottomTabNavigator();\r\n  const { orderLoading, loading, currentUser, Logout, chefsArr, selectedChef, currentChefDishes, setCurrentChefDishes,\r\n    selectedImage, sliderValue, orders, getOrders, setCart, getFireStoreImg, connectionsArr, getConnections,\r\n    setFriendsArr, friendsSuggestion, friendsArr, friendsReviews, getFeed, friendsArrDetails, postReview, currentReview, ratingsUpdated, setRatingsUpdated } = useUserContext();\r\n  const [value, setValue] = useState('Rating');\r\n  const [dChefs, setDChefs] = useState([]);\r\n  const [search, setSearch] = useState('')\r\n  const [searchResult, setSearchResult] = useState(\"\")\r\n  const [reviewModalShow, setReviewModalShow] = useState(false)\r\n  const [currentOrder, setCurrentOrder] = useState('')\r\n  const [ratingChef, setRatingChef] = useState('')\r\n  const [ratingChefEmail, setRatingChefEmail] = useState('')\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const myData = [].concat(chefsArr).sort((a, b) => a.Rating < b.Rating ? 1 : -1);\r\n\r\n  const sortedOrders = [].concat(orders)\r\n    .sort((a, b) => a.OrderId < b.OrderId ? 1 : -1);\r\n\r\n  useEffect(() => {\r\n    if (currentChefDishes) {\r\n      navigation.navigate('DishesScreen');\r\n    }\r\n  }, [currentChefDishes])\r\n\r\n  useEffect(() => {\r\n    if (friendsSuggestion == '') {\r\n      getConnections()\r\n      setDChefs(myData)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    sortChefs(value)\r\n  }, [value])\r\n\r\n  useEffect(() => {\r\n  }, [dChefs])\r\n\r\n\r\n\r\n\r\n  const sortChefs = (value) => {\r\n    value == \"Rating\" ? sortByRating() : value == \"Distance\" ? sortByDistance() : sortByReviews()\r\n    console.log(chefsArr)\r\n    console.log(value)\r\n  };\r\n\r\n  const sortByRating = () => {\r\n    if (searchResult?.length > 0) {\r\n      let chefsByRating = [].concat(chefsArr)\r\n        .sort((a, b) => a.Rating < b.Rating ? 1 : -1);\r\n      setSearchResult(chefsByRating)\r\n    }\r\n    else {\r\n      let chefsByRating = [].concat(myData)\r\n        .sort((a, b) => a.Rating < b.Rating ? 1 : -1);\r\n      setDChefs(chefsByRating)\r\n    }\r\n  }\r\n\r\n\r\n  const sortByDistance = () => {\r\n    if (searchResult?.length > 0) {\r\n      let chefsByDistance = [].concat(searchResult)\r\n        .sort((a, b) => a.DisFromUser > b.DisFromUser ? 1 : -1);\r\n      setSearchResult(chefsByDistance)\r\n    }\r\n    else {\r\n      let chefsByDistance = [].concat(myData)\r\n        .sort((a, b) => a.DisFromUser > b.DisFromUser ? 1 : -1);\r\n      setDChefs(chefsByDistance)\r\n    }\r\n  }\r\n\r\n  const sortByReviews = () => {\r\n    if (searchResult?.length > 0) {\r\n      let chefsByReviews = [].concat(chefsArr)\r\n        .sort((a, b) => a.NumOfReviews < b.NumOfReviews ? 1 : -1);\r\n      setSearchResult(chefsByReviews)\r\n    }\r\n    else {\r\n      let chefsByReviews = [].concat(myData)\r\n        .sort((a, b) => a.NumOfReviews < b.NumOfReviews ? 1 : -1);\r\n      setDChefs(chefsByReviews)\r\n    }\r\n  }\r\n\r\n  function showRatingsModal(displayName, chefEmail) {\r\n    setRatingChef(displayName);\r\n    setRatingChefEmail(chefEmail)\r\n    setModalVisible(true);\r\n  }\r\n  function calcComputedRating(chef) {\r\n    console.log(\"123132213132132132132132213133221132132132123132231132132\")\r\n    if (chef) {\r\n      let ratingsAdded = chef.NumOfReviews;\r\n      let chefsNewRating = chef.Rating * ratingsAdded;\r\n      if (friendsReviews) {\r\n        friendsReviews.forEach(review => {\r\n          if (chef.Email == review.ChefEmail) {\r\n            ratingsAdded += Math.round(chef.NumOfReviews / 1);\r\n            chefsNewRating += review.ReviewRating * (Math.round(chef.NumOfReviews / 1))\r\n          }\r\n        });\r\n      }\r\n      console.log(chefsNewRating / ratingsAdded)\r\n      return (chefsNewRating / ratingsAdded);\r\n    }\r\n  }\r\n\r\n  function Search() {\r\n    function updateSearch(searchVal) {\r\n      setSearch(searchVal);\r\n      setSearchResult([])\r\n\r\n      let results = [];\r\n      if (searchVal) {\r\n        console.log(searchVal)\r\n        console.log(chefsArr)\r\n        myData.forEach(chef => {\r\n          let fullName = chef.DisplayName + ' ' + chef.Address + ' ' + chef.foodType;\r\n          ((fullName.toLowerCase().includes(searchVal.toLowerCase())) ? results.push(chef) : null)\r\n        });\r\n      }\r\n      setSearchResult(results)\r\n      console.log(results)\r\n    };\r\n\r\n    var count = 0;\r\n    return (\r\n\r\n      <ScrollView style={{ marginTop: '5%', width: '100%' }}>\r\n        <View style={{ backgroundColor: 'rgb(240, 240, 240)', alignItems: 'center', width: '100%' }}>\r\n          <SearchBar\r\n            containerStyle={{ width: \"100%\", padding: \"1.5%\", marginTop: \"3%\", backgroundColor: \"rgb(248,248,248 / 0%)\" }}\r\n            lightTheme\r\n            round=\"true\"\r\n            placeholder=\"Search ...\"\r\n            onChangeText={updateSearch}\r\n            value={search}\r\n          />\r\n\r\n          <RadioButton.Group onValueChange={newValue => setValue(newValue)} value={value}>\r\n            <View style={{ justifyContent: \"space-evenly\", flexDirection: \"row\" }}>\r\n              <View style={{ alignItems: \"center\", flexDirection: \"row\" }}>\r\n                <Text style={styles.enhanceText}>Sort By: </Text>\r\n              </View>\r\n              <View style={{ alignItems: \"center\", flexDirection: \"row\" }}>\r\n                <Text>Rating</Text>\r\n                <RadioButton value=\"Rating\" />\r\n              </View>\r\n              <View style={{ alignItems: \"center\", flexDirection: \"row\" }}>\r\n                <Text>Distance</Text>\r\n                <RadioButton value=\"Distance\" />\r\n              </View>\r\n              <View style={{ alignItems: \"center\", flexDirection: \"row\" }}>\r\n                <Text># of Reviews</Text>\r\n                <RadioButton value=\"Reviews\" />\r\n              </View>\r\n            </View>\r\n          </RadioButton.Group>\r\n\r\n        </View>\r\n        <View style={{ marginLeft: '2.5%', marginTop: \"-4%\", flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n          {search != \"\" ?\r\n            searchResult != \"\" ? searchResult.map((item, key) =>\r\n              <RestaurantCard\r\n                name={item.DisplayName} img={item.Img} city={item.Address} originalRating={item.OriginalRating} foodType={item.FoodType} email={item.Email} \r\n                showModal={showRatingsModal} numOfReviews={item.NumOfReviews} disFromUser={item.DisFromUser} lat={item.Lat} lon={item.Lon} key={key} pNumber={item.PNumber}\r\n                onPress={async () => {\r\n                  /* handleCardClick(item.Email); */\r\n                  selectedChef(item.Email)\r\n                  setCart([])\r\n                }}>\r\n              </RestaurantCard>)\r\n              : <Text> No search results </Text>\r\n            :\r\n            myData ?\r\n              <View style={{ marginTop: '5%', width: '100%' }}>\r\n                <SearchSlider></SearchSlider>\r\n                {dChefs.reduce((a, b) => b.DisFromUser ? a : a + 1, 0) == 0 ? dChefs.map((item, key) =>\r\n                  (sliderValue > item.DisFromUser) ?\r\n                    <RestaurantCard\r\n                      name={item.DisplayName} img={item.Img} city={item.Address} originalRating={item.OriginalRating} numOfReviews={item.NumOfReviews} pNumber={item.PNumber}\r\n                      foodType={item.FoodType} disFromUser={item.DisFromUser} key={key} showModal={showRatingsModal} email={item.Email} lat={item.Lat} lon={item.Lon}\r\n                      onPress={async () => {\r\n                        selectedChef(item.Email)\r\n                        setCart([])\r\n                      }}>\r\n                    </RestaurantCard>\r\n                    : null) : myData.map((item, key) =>\r\n                      (sliderValue > item.DisFromUser) ?\r\n                        <RestaurantCard\r\n                          name={item.DisplayName} img={item.Img} city={item.Address} originalRating={item.OriginalRating} rating={item.Rating} email={item.Email} pNumber={item.PNumber}\r\n                          showModal={showRatingsModal} numOfReviews={item.NumOfReviews} foodType={item.FoodType} disFromUser={item.DisFromUser} lat={item.Lat} lon={item.Lon} key={key}\r\n                          onPress={async () => {\r\n                            selectedChef(item.Email)\r\n                            setCart([])\r\n                          }}>\r\n                        </RestaurantCard>\r\n                        : null)}\r\n              </View>\r\n              : <Text> No restaurant near you </Text>\r\n          }\r\n        </View>\r\n        <Modal\r\n          animationType=\"fade\"\r\n          transparent={true}\r\n          visible={modalVisible}\r\n          onRequestClose={() => {\r\n            Alert.alert(\"Modal has been closed.\");\r\n            setModalVisible(!modalVisible);\r\n          }}\r\n\r\n        >\r\n          <View style={styles.centeredView}>\r\n            <View style={styles.modalView}>\r\n              \r\n             {/*  {friendsReviews ? friendsReviews.reduce((a, b) => b.ChefEmail == ratingChefEmail ? a + 1 : a, 0) == 0 ? <Text style={[styles.enhanceText], { textAlign: \"center\" }}> None of your friends have rated {ratingChef ? ratingChef : null}{\"\\n\"} Consider using our suggesting system to follow more friends!</Text> : <View><Text style={styles.modalTextHeader}>Your friends computed rating: {(calcComputedRating(myData.filter(e => e.Email === ratingChefEmail)[0])?.toFixed(1))} </Text> <Text style={styles.modalSubHeader}>Here is what they thought about {ratingChef ? ratingChef : null}:</Text></View> : null} */}\r\n              {friendsReviews ? friendsReviews.map((item, key) => item.ChefEmail == ratingChefEmail ?\r\n                <Text><Text style={styles.enhanceText}>{item.UserFirstName} {item.UserLastName}</Text> rated: <Text style={styles.enhanceText}>{item.ReviewRating}</Text></Text>\r\n                : null)\r\n                : null}\r\n              <View style={[styles.modalTextTotal, { marginBottom: '15%' }]}></View>\r\n              <Pressable\r\n                style={[styles.textStyle, styles.button, styles.buttonClose]}\r\n                onPress={() => {\r\n                  setModalVisible(!modalVisible);\r\n                }\r\n                }\r\n              >\r\n                <Text style={styles.textStyle}>Ok</Text>\r\n              </Pressable>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      </ScrollView>\r\n\r\n\r\n    )\r\n  }\r\n  function reviewOrder(order) {\r\n    setCurrentOrder(order);\r\n    console.log(order)\r\n    setReviewModalShow(true);\r\n  }\r\n\r\n  async function saveReview(foodStars, serviceHearts, reviewDescription, currentOrderCopy) {\r\n    await postReview(foodStars, serviceHearts, reviewDescription, currentOrderCopy)\r\n    /* currentOrder.ReviewId = currentReview.ReviewId */\r\n  }\r\n\r\n\r\n  function MyOrders() {\r\n    var foodStars = 2.5;\r\n    var serviceHearts = 2.5;\r\n    var reviewDescription;\r\n    return (\r\n      orderLoading ?\r\n        <View style={{ marginTop: \"10%\", flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n          <Text style={{ fontFamily: 'sans-serif-light', color: \"#3ec92d\", fontSize: 22 }}>My Orders</Text>\r\n          <ScrollView style={{ width: \"100%\" }}>\r\n            <View style={{ marginTop: \"5%\", flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n              {sortedOrders != [] ? sortedOrders.map((item, key) =>\r\n                <OrderCard key={key} Order={item} Chef={chefsArr.filter(e => e.Email === item.ChefEmail)[0]} reviewOrder={() => reviewOrder(item)}> Review={currentReview}</OrderCard>\r\n              ) : <Text>No orders found</Text>}\r\n            </View>\r\n          </ScrollView>\r\n          {<Modal\r\n            animationType=\"fade\"\r\n            transparent={true}\r\n            visible={reviewModalShow}\r\n            onRequestClose={() => {\r\n              Alert.alert(\"Modal has been closed.\");\r\n              setReviewModalShow(!reviewModalShow);\r\n            }}\r\n\r\n          >\r\n            <View style={styles.centeredView}>\r\n              <View style={styles.modalView}>\r\n                <Text style={[styles.modalText, styles.modalTextTotal]}> Review {currentOrder?.Chef ? currentOrder.Chef : null} ! </Text>\r\n                <View>\r\n                  <Text style={styles.modalText}> How was the food?\r\n                    <Rating\r\n                      type='star'\r\n                      ratingCount={5}\r\n                      imageSize={40}\r\n                      showRating\r\n                      fractions={1}\r\n                      onFinishRating={function (value) { foodStars = value }}\r\n                    />\r\n                  </Text>\r\n                </View>\r\n                <View>\r\n                  <Text style={styles.modalText}> How was the service?\r\n                    <Rating\r\n                      type='heart'\r\n                      ratingCount={5}\r\n                      imageSize={40}\r\n                      showRating\r\n                      fractions={1}\r\n                      onFinishRating={function (value) { serviceHearts = value }}\r\n                    />\r\n                  </Text>\r\n                </View>\r\n                <View>\r\n                  <Text style={styles.modalText}> Describe your experience\r\n                  </Text>\r\n                  <SafeAreaView style={{ marginBottom: '25%' }}>\r\n                    <TextInput\r\n                      style={styles.input}\r\n                      value={reviewDescription}\r\n                      onChangeText={function (text) { reviewDescription = text }}\r\n                      multiline={true}\r\n                      underlineColorAndroid='transparent'\r\n                    />\r\n                  </SafeAreaView>\r\n                </View>\r\n\r\n                <Pressable\r\n                  style={[styles.textStyle, styles.button, styles.buttonClose]}\r\n                  onPress={() => {\r\n                    saveReview(foodStars, serviceHearts, reviewDescription, currentOrder);\r\n                    setReviewModalShow(!reviewModalShow);\r\n                    setCurrentOrder('');\r\n                  }\r\n                  }\r\n                >\r\n                  <Text style={styles.textStyle}>Save</Text>\r\n                </Pressable>\r\n\r\n\r\n              </View>\r\n            </View>\r\n          </Modal>}\r\n        </View> : <Image\r\n          source={require('../assets/loadingif.gif')}\r\n          style={{ width: '100%', height: '100%' }} />\r\n    );\r\n  }\r\n  function Feed() {\r\n    return (\r\n      <View style={{ marginTop: \"10%\", flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n        <Text style={{ fontFamily: 'sans-serif-light', color: \"#3ec92d\", fontSize: 22 }}>Feed</Text>\r\n        <ScrollView style={{ width: \"100%\" }}>\r\n          {friendsReviews ? friendsReviews.map((item, key) =>\r\n            <FriendsReviewsCard key={key}\r\n              reviewData={item}\r\n            >\r\n            </FriendsReviewsCard>\r\n          ) : <Text>Feed is empty</Text>}\r\n\r\n        </ScrollView>\r\n\r\n      </View>\r\n    );\r\n  }\r\n\r\n\r\n  function Friends() {\r\n    navigation.navigate('FriendsScreen')\r\n    return (\r\n      null\r\n    )\r\n\r\n  }\r\n\r\n  function Profile() {\r\n    return (\r\n      <Background>\r\n        <PaperButton style={{ marginLeft: 280 }}\r\n          onPress={() =>\r\n            navigation.reset({\r\n              index: 0,\r\n              routes: [{ name: 'StartScreen' }],\r\n            })\r\n          }\r\n        >\r\n        </PaperButton>\r\n        <Image\r\n          source={{ uri: currentUser.img }}\r\n          style={{ width: 200, height: 200, borderRadius: 200 / 2 }}\r\n        />\r\n        <ImagePicker ></ImagePicker>\r\n        <View style={{ width: '100%', paddingTop: 60, paddingBottom: 60 }}>\r\n          <Text style={styles.profileText} >\r\n            <AntDesign name=\"user\" size={24} color=\"black\" style={{ paddingRight: 20 }} />\r\n            <Text> </Text>{currentUser.firstName + \" \" + currentUser.lastName}</Text>\r\n          <Divider style={StyleSheet.flatten(styles.profileDivider)} />\r\n          <Text style={styles.profileText}>\r\n            <AntDesign name=\"mail\" size={24} color=\"black\" style={{ paddingRight: 20 }} />\r\n            <Text> </Text>{currentUser.email}</Text>\r\n          <Divider style={StyleSheet.flatten(styles.profileDivider)} />\r\n          <Text style={styles.profileText}>\r\n            <AntDesign name=\"home\" size={24} color=\"black\" style={{ paddingRight: 20 }} />\r\n            <Text> </Text>{currentUser.city}</Text>\r\n          <Divider style={StyleSheet.flatten(styles.profileDivider)} />\r\n          <Text style={styles.profileText}>\r\n            <AntDesign name=\"phone\" size={24} color=\"black\" style={{ paddingRight: 20 }} />\r\n            <Text> </Text>{currentUser.pNumber}</Text>\r\n        </View>\r\n\r\n        <PaperButton\r\n          mode=\"outlined\"\r\n          onPress={() => {\r\n            Logout();\r\n            navigation.reset({\r\n              index: 0,\r\n              routes: [{ name: 'StartScreen' }],\r\n            })\r\n          }\r\n          }\r\n        >\r\n          Logout\r\n        </PaperButton>\r\n      </Background>\r\n    );\r\n\r\n  }\r\n\r\n  function showMyFriends() {\r\n    return (\r\n      <View style={{ marginTop: \"10%\", flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n        <ScrollView style={{ height: \"60%\", width: \"100%\" }}>\r\n          <Text style={{ textAlign: 'center', fontFamily: 'sans-serif-light', color: \"#3ec92d\", fontSize: 22 }}>My Friends</Text>\r\n          {friendsArrDetails ? friendsArrDetails.map((item, key) =>\r\n            <FriendCard key={key}\r\n              friendData={item}>\r\n            </FriendCard>\r\n          ) : <Text>You have no friends yet</Text>}\r\n        </ScrollView>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  return (\r\n    loading ?\r\n      (<Tab.Navigator\r\n        initialRouteName=\"Search\"\r\n        activeColor=\"#fff\"\r\n        barStyle={{ backgroundColor: 'rgb(243,119,0)' }}\r\n      >\r\n\r\n        <Tab.Screen name=\"Search\" component={Search}\r\n          options={{\r\n            tabBarLabel: 'Search',\r\n            tabBarIcon: ({ color }) => (\r\n              <AntDesign name=\"search1\" size={20} color={color} />\r\n\r\n            ),\r\n          }}\r\n        />\r\n        <Tab.Screen name=\"My Orders\" component={MyOrders}\r\n          options={{\r\n            tabBarLabel: 'My Orders',\r\n            tabBarIcon: ({ color }) => (\r\n              <SimpleLineIcons style={styles.tabIcon} name=\"book-open\" size={20} color={color} />\r\n            ),\r\n          }}\r\n          listeners={() => ({ tabPress: e => { getOrders() } })}\r\n        />\r\n        <Tab.Screen name=\"Feed\" component={Feed}\r\n          options={{\r\n            tabBarLabel: 'Feed',\r\n            tabBarIcon: ({ color }) => (\r\n              <SimpleLineIcons style={styles.tabIcon} name=\"feed\" size={20} color={color} />\r\n            ),\r\n\r\n          }}\r\n        /* listeners={() => ({ tabPress: e => { getConnections() } })} */\r\n\r\n        />\r\n        <Tab.Screen name=\"Friends\" component={Friends}\r\n          options={{\r\n            tabBarLabel: 'Friends',\r\n            tabBarIcon: ({ color }) => (\r\n              <SimpleLineIcons name=\"people\" size={20} color={color} />\r\n            ),\r\n\r\n          }}\r\n\r\n        />\r\n\r\n        <Tab.Screen name=\"Profile\" component={Profile}\r\n          options={{\r\n            tabBarLabel: 'Profile',\r\n            tabBarIcon: ({ color }) => (\r\n              <SimpleLineIcons name=\"user\" size={20} color={color} />\r\n            ),\r\n          }}\r\n        /* listeners={() => ({ tabPress: e => { console.log(currentUser); getFireStoreImg() } })} */\r\n        />\r\n      </Tab.Navigator>) : <Image\r\n        source={require('../assets/loadingif.gif')}\r\n        style={{ width: '100%', height: '100%' }}\r\n      />\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  enhanceText: {\r\n    fontSize: 14,\r\n    fontWeight: \"bold\",\r\n  },\r\n  tabIcon: {\r\n    flex: 0,\r\n    paddingBottom: 10,\r\n  },\r\n  fixToText: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n\r\n  },\r\n  camera: {\r\n    position: 'absolute',\r\n    left: 66,\r\n    top: 200\r\n  },\r\n  gallery: {\r\n    position: 'absolute',\r\n    right: 66,\r\n    top: 200\r\n  },\r\n  profileText: {\r\n    fontSize: 20,\r\n  },\r\n\r\n  profileDivider: {\r\n    backgroundColor: 'rgb(189 ,189 ,189)',\r\n    alignSelf: \"center\",\r\n    width: 350,\r\n    marginTop: 30,\r\n    marginBottom: 30\r\n  },\r\n\r\n  btn_container: {\r\n    flex: 1,\r\n    backgroundColor: \"#59a6eb\",\r\n    justifyContent: \"center\",\r\n    width: \"100%\",\r\n    elevation: 8,\r\n    borderRadius: 5,\r\n    margin: 1,\r\n  },\r\n  circleButtonIcon: {\r\n    fontSize: 20,\r\n    height: 22,\r\n    color: \"white\",\r\n  },\r\n  centeredView: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginTop: 22\r\n  },\r\n  modalText: {\r\n    marginBottom: 15,\r\n    textAlign: \"center\",\r\n    fontSize: 14\r\n  },\r\n  modalTextHeader: {\r\n    marginBottom: 15,\r\n    textAlign: \"center\",\r\n    fontWeight: \"bold\",\r\n    fontSize: 18\r\n  },\r\n  modalSubHeader: {\r\n    marginBottom: 15,\r\n    textAlign: \"center\",\r\n    fontWeight: \"bold\",\r\n    fontSize: 16\r\n  },\r\n\r\n  modalTextTotal: {\r\n    marginBottom: 15,\r\n    textAlign: \"center\",\r\n    fontSize: 18,\r\n    borderBottomColor: '#c9c9c9',\r\n    borderBottomWidth: 1,\r\n    width: \"100%\",\r\n    paddingBottom: \"5%\"\r\n  },\r\n  modalView: {\r\n    margin: 20,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 40,\r\n    padding: 15,\r\n    alignItems: \"center\",\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 4,\r\n    elevation: 5,\r\n    width: '75%',\r\n\r\n  },\r\n  button: {\r\n    borderRadius: 10,\r\n    position: \"absolute\",\r\n    bottom: 8,\r\n    width: 80,\r\n  },\r\n  buttonOpen: {\r\n    backgroundColor: 'rgb(62,197,0)',\r\n  },\r\n  buttonClose: {\r\n    backgroundColor: 'rgb(62,197,0)',\r\n    padding: 10\r\n  },\r\n  textStyle: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\"\r\n  },\r\n  input: {\r\n    width: 200,\r\n    borderColor: '#c9c9c9',\r\n    borderWidth: 1,\r\n  },\r\n})\r\n\r\nexport default Dashboard"]},"metadata":{},"sourceType":"module"}