{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Shachar\\\\Desktop\\\\P\\\\reactHomeals\\\\screens\\\\DishesScreen.js\";\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport Button from \"../components/Button\";\nimport { Text, Card } from 'react-native-paper';\nimport { Badge } from 'react-native-elements';\nimport { SimpleLineIcons, AntDesign, Ionicons, Feather, MaterialCommunityIcons, FontAwesome5 } from '@expo/vector-icons';\nimport BackButton from \"../components/BackButton\";\nimport DishCard from \"../components/DishCard\";\nimport CartCard from \"../components/CartCard\";\nimport { useUserContext } from \"../src/UserContext\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { createMaterialBottomTabNavigator } from '@react-navigation/material-bottom-tabs';\n\nvar DishesScreen = function DishesScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useUserContext = useUserContext(),\n      currentChefDishes = _useUserContext.currentChefDishes,\n      currentChef = _useUserContext.currentChef,\n      cart = _useUserContext.cart,\n      setOrder = _useUserContext.setOrder,\n      setCart = _useUserContext.setCart,\n      currentOrder = _useUserContext.currentOrder,\n      setCurrentChef = _useUserContext.setCurrentChef;\n\n  var Tab = createMaterialBottomTabNavigator();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modalVisible = _useState2[0],\n      setModalVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      forceUpdate = _useState4[0],\n      setForceUpdate = _useState4[1];\n\n  var badgeValue = useRef(null);\n  useEffect(function () {\n    console.log('');\n  }, [cart]);\n\n  var reRenderDishesScreen = function reRenderDishesScreen() {\n    var tempBadge = badgeValue.current;\n    badgeValue.current = cart.reduce(function (a, b) {\n      return b.Quantity ? a + b.Quantity : a;\n    }, 0);\n    console.log(badgeValue.current);\n\n    if (tempBadge != badgeValue.current) {\n      setForceUpdate(!forceUpdate);\n    }\n  };\n\n  function ShowDishes() {\n    var _this2 = this;\n\n    return React.createElement(View, {\n      style: {\n        height: \"100%\",\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, !currentChef ? navigation.goBack() : null, React.createElement(View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }, React.createElement(BackButton, {\n      goBack: function goBack() {\n        navigation.goBack();\n        setCurrentChef('');\n        console.log('NOW');\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }\n    })), React.createElement(Text, {\n      style: {\n        marginTop: \"15%\",\n        textAlign: 'center',\n        fontFamily: 'sans-serif-light',\n        color: \"#3ec92d\",\n        fontSize: 22\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, currentChef.DisplayName, \"'s Menu\"), React.createElement(ScrollView, {\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: {\n        marginTop: \"5%\",\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, currentChefDishes.map(function (item, key) {\n      return React.createElement(DishCard, {\n        name: item.DisplayName,\n        img: item.Img,\n        reRenderDishesScreen: reRenderDishesScreen,\n        dishType: item.DishType,\n        description: item.Description,\n        price: item.Price,\n        key: key,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 29\n        }\n      });\n    }))));\n  }\n\n  var modalPop = function modalPop() {\n    setOrder();\n    setModalVisible(true);\n  };\n\n  var makeCall = function makeCall(pNumber) {\n    var phoneNumber;\n\n    if (Platform.OS === 'android') {\n      phoneNumber = 'tel:${' + pNumber + '}';\n    } else {\n      phoneNumber = 'telprompt:${' + pNumber + '}';\n    }\n\n    Linking.openURL(phoneNumber);\n  };\n\n  var startNavWaze = function startNavWaze() {\n    var navURL = 'https://waze.com/ul?ll=' + currentChef.Lat + ',' + currentChef.Lon + '';\n    Linking.openURL(navURL);\n  };\n\n  function ShowCart() {\n    var _this3 = this,\n        _currentOrder$OrderDe;\n\n    return React.createElement(View, {\n      style: {\n        height: \"100%\",\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: {\n        marginTop: '10%',\n        fontSize: 35,\n        textAlign: 'center',\n        color: 'green'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, \"My Cart\"), console.log(cart), cart.length > 0 && cart.reduce(function (a, b) {\n      return b.Quantity ? a + b.Quantity : a;\n    }, 0) > 0 ? cart.map(function (item, i) {\n      return item.Quantity == 0 || !item.Quantity ? null : React.createElement(CartCard, {\n        currentChef: currentChef,\n        key: i,\n        cartDish: item,\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 73\n        }\n      });\n    }) : React.createElement(Text, {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, \"Your cart is empty\"), cart.length > 0 && cart.reduce(function (a, b) {\n      return b.Quantity ? a + b.Quantity : a;\n    }, 0) > 0 ? React.createElement(View, {\n      style: {\n        marginRight: \"2%\",\n        marginTop: 'auto',\n        marginLeft: 'auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontFamily: 'sans-serif-medium',\n        fontSize: 17,\n        color: 'green'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, \" Cart Total: \", cart.reduce(function (a, b) {\n      return b.Quantity ? a + b.Price * b.Quantity : a;\n    }, 0), \"\\u20AA\")), React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, React.createElement(Button, {\n      mode: \"outlined\",\n      style: {\n        borderRadius: 15,\n        backgroundColor: 'rgb(255,138,87)'\n      },\n      onPress: modalPop,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, React.createElement(Text, {\n      style: {\n        color: 'rgb(255 ,255, 255)',\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    }, \"Order Now\")))) : null, React.createElement(Modal, {\n      animationType: \"slide\",\n      transparent: true,\n      visible: modalVisible,\n      onRequestClose: function onRequestClose() {\n        Alert.alert(\"Modal has been closed.\");\n        setModalVisible(!modalVisible);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: styles.centeredView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, React.createElement(View, {\n      style: styles.modalView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, React.createElement(AntDesign, {\n      name: \"checkcircleo\",\n      size: 35,\n      color: \"rgb(62, 197, 0)\",\n      style: {\n        paddingBottom: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }), React.createElement(Text, {\n      style: styles.modalText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 29\n      }\n    }, currentChef.DisplayName, \" received your order ! \"), React.createElement(Text, {\n      style: styles.modalText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 29\n      }\n    }, currentOrder.OrderId ? \"Order no #\" + currentOrder.OrderId : null), React.createElement(Text, {\n      style: styles.modalText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 29\n      }\n    }, currentOrder.OrderId ? \"Order time: \" + currentOrder.OrderTime : null), (_currentOrder$OrderDe = currentOrder.OrderDescription) == null ? void 0 : _currentOrder$OrderDe.split(\"; \").map(function (item, key) {\n      return React.createElement(Text, {\n        style: styles.modalText,\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 33\n        }\n      }, \" \", item ? item + \"₪\" : null, \" \");\n    }), React.createElement(Text, {\n      style: styles.modalText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 29\n      }\n    }, \" Pick up: \", currentChef.Address, \" \", React.createElement(FontAwesome5, {\n      name: \"waze\",\n      size: 28,\n      color: \"black\",\n      onPress: function onPress() {\n        startNavWaze();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 92\n      }\n    }), \" \"), React.createElement(Text, {\n      style: styles.modalText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, \" Call chef: \", React.createElement(Feather, {\n      name: \"phone-call\",\n      size: 28,\n      color: \"black\",\n      onPress: function onPress() {\n        makeCall(currentChef.PNumber);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 72\n      }\n    })), React.createElement(Text, {\n      style: styles.modalTextTotal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, \"Order Total: \", cart.reduce(function (a, b) {\n      return b.Quantity ? a + b.Price * b.Quantity : a;\n    }, 0), \"\\u20AA\"), React.createElement(Pressable, {\n      style: [styles.button, styles.buttonClose],\n      onPress: function onPress() {\n        setModalVisible(!modalVisible);\n        setCart([]);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 29\n      }\n    }, React.createElement(Text, {\n      style: styles.textStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 33\n      }\n    }, \"Ok\")), React.createElement(Text, {\n      style: styles.textStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 29\n      }\n    }, \"Ok\")))));\n  }\n\n  return React.createElement(Tab.Navigator, {\n    initialRouteName: \"ShowDishes\",\n    activeColor: \"#fff\",\n    barStyle: {\n      backgroundColor: 'rgb(62,197,0)'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, React.createElement(Tab.Screen, {\n    name: \"ShowDishes\",\n    component: ShowDishes,\n    options: {\n      tabBarLabel: 'Menu',\n      tabBarIcon: function tabBarIcon(_ref2) {\n        var color = _ref2.color;\n        return React.createElement(SimpleLineIcons, {\n          name: \"book-open\",\n          size: 20,\n          color: color,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"ShowCart\",\n    component: ShowCart,\n    options: {\n      tabBarLabel: 'Cart',\n      tabBarIcon: function tabBarIcon(_ref3) {\n        var color = _ref3.color;\n        return React.createElement(View, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }\n        }, React.createElement(View, {\n          style: {\n            position: 'absolute',\n            bottom: 10,\n            right: 20\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 29\n          }\n        }, (cart == null ? void 0 : cart.reduce(function (a, b) {\n          return b.Quantity ? a + b.Quantity : a;\n        }, 0)) > 0 ? React.createElement(Badge, {\n          textStyle: {\n            fontSize: 12,\n            fontWeight: 'bold'\n          },\n          badgeStyle: {\n            width: 'auto',\n            height: 'auto'\n          },\n          ref: badgeValue,\n          value: cart == null ? void 0 : cart.reduce(function (a, b) {\n            return b.Quantity ? a + b.Quantity : a;\n          }, 0),\n          status: \"warning\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 99\n          }\n        }) : null), React.createElement(AntDesign, {\n          style: styles.tabIcon,\n          name: \"shoppingcart\",\n          size: 20,\n          color: color,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 29\n          }\n        }));\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default DishesScreen;\nvar styles = StyleSheet.create({\n  cartBar: {\n    height: 100,\n    marginTop: '10%',\n    width: '100%',\n    backgroundColor: 'green'\n  },\n  shadow: {\n    height: 60,\n    width: 370,\n    marginTop: 8,\n    marginBottom: 5,\n    elevation: 10,\n    borderRadius: 15\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 40,\n    padding: 15,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n    width: '75%'\n  },\n  button: {\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2,\n    position: \"absolute\",\n    bottom: 8,\n    width: 80\n  },\n  buttonOpen: {\n    backgroundColor: \"#F194FF\"\n  },\n  buttonClose: {\n    backgroundColor: \"#2196F3\"\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\",\n    fontSize: 14\n  },\n  modalTextTotal: {\n    marginBottom: 15,\n    textAlign: \"center\",\n    fontSize: 18,\n    borderTopColor: 'black',\n    borderTopWidth: 1,\n    width: \"100%\",\n    paddingTop: \"5%\"\n  }\n});","map":{"version":3,"sources":["C:/Users/Shachar/Desktop/P/reactHomeals/screens/DishesScreen.js"],"names":["React","useEffect","useState","useRef","Button","Text","Card","Badge","SimpleLineIcons","AntDesign","Ionicons","Feather","MaterialCommunityIcons","FontAwesome5","BackButton","DishCard","CartCard","useUserContext","createMaterialBottomTabNavigator","DishesScreen","navigation","currentChefDishes","currentChef","cart","setOrder","setCart","currentOrder","setCurrentChef","Tab","modalVisible","setModalVisible","forceUpdate","setForceUpdate","badgeValue","console","log","reRenderDishesScreen","tempBadge","current","reduce","a","b","Quantity","ShowDishes","height","width","goBack","flex","justifyContent","alignItems","marginTop","textAlign","fontFamily","color","fontSize","DisplayName","map","item","key","Img","DishType","Description","Price","modalPop","makeCall","pNumber","phoneNumber","Platform","OS","Linking","openURL","startNavWaze","navURL","Lat","Lon","ShowCart","length","i","marginRight","marginLeft","borderRadius","backgroundColor","fontWeight","Alert","alert","styles","centeredView","modalView","paddingBottom","modalText","OrderId","OrderTime","OrderDescription","split","Address","PNumber","modalTextTotal","button","buttonClose","textStyle","tabBarLabel","tabBarIcon","position","bottom","right","tabIcon","StyleSheet","create","cartBar","shadow","marginBottom","elevation","margin","padding","shadowColor","shadowOffset","shadowOpacity","shadowRadius","buttonOpen","borderTopColor","borderTopWidth","paddingTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\r\nimport Button from '../components/Button'\r\nimport { Text, Card } from 'react-native-paper'\r\nimport { Badge } from 'react-native-elements'\r\nimport { SimpleLineIcons, AntDesign, Ionicons, Feather, MaterialCommunityIcons, FontAwesome5 } from '@expo/vector-icons';\r\nimport BackButton from '../components/BackButton'\r\nimport DishCard from '../components/DishCard'\r\nimport CartCard from '../components/CartCard'\r\nimport { useUserContext } from \"../src/UserContext\"\r\nimport { View, StyleSheet, Image, ScrollView, SafeAreaView, Modal, Pressable, Alert, Linking, Platform } from 'react-native';\r\nimport { createMaterialBottomTabNavigator } from '@react-navigation/material-bottom-tabs';\r\n\r\nconst DishesScreen = ({ navigation }) => {\r\n    const { currentChefDishes, currentChef, cart, setOrder, setCart, currentOrder, setCurrentChef } = useUserContext();\r\n    const Tab = createMaterialBottomTabNavigator();\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [forceUpdate, setForceUpdate] = useState(false);\r\n    const badgeValue = useRef(null)\r\n\r\n    useEffect(() => {\r\n        console.log('')\r\n\r\n    }, [cart])\r\n\r\n    const reRenderDishesScreen = () => {\r\n        let tempBadge = badgeValue.current\r\n        badgeValue.current = cart.reduce((a,b) => b.Quantity ? a + b.Quantity : a, 0)\r\n        console.log(badgeValue.current)\r\n        if (tempBadge != badgeValue.current) {\r\n            setForceUpdate(!forceUpdate)\r\n        }\r\n    }\r\n\r\n    function ShowDishes() {\r\n        return (\r\n            <View style={{ height: \"100%\", width: '100%' }}>\r\n                {!currentChef ? navigation.goBack() : null}\r\n                <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                    <BackButton goBack={() => { navigation.goBack(); setCurrentChef(''); console.log('NOW') }} />\r\n                </View>\r\n                <Text style={{ marginTop: \"15%\", textAlign: 'center', fontFamily: 'sans-serif-light', color: \"#3ec92d\", fontSize: 22 }}>{currentChef.DisplayName}'s Menu</Text>\r\n                <ScrollView style={{ width: '100%' }}>\r\n                    <View style={{ marginTop: \"5%\", flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                        {currentChefDishes.map((item, key) =>\r\n                            <DishCard name={item.DisplayName} img={item.Img} reRenderDishesScreen={reRenderDishesScreen}\r\n                                dishType={item.DishType} description={item.Description} price={item.Price} key={key}>\r\n                            </DishCard>\r\n                        )}\r\n                    </View>\r\n                </ScrollView >\r\n            </View>\r\n        );\r\n    }\r\n\r\n    const modalPop = () => {\r\n        setOrder();\r\n        setModalVisible(true);\r\n        /*  console.log(currentOrder) */\r\n    }\r\n\r\n    const makeCall = (pNumber) => {\r\n        let phoneNumber;\r\n        if (Platform.OS === 'android') {\r\n            phoneNumber = 'tel:${' + pNumber + '}';\r\n        } else {\r\n            phoneNumber = 'telprompt:${' + pNumber + '}';\r\n        }\r\n        Linking.openURL(phoneNumber);\r\n    };\r\n\r\n    const startNavWaze = () => {\r\n        let navURL = 'https://waze.com/ul?ll=' + currentChef.Lat + ',' + currentChef.Lon + '';\r\n        Linking.openURL(navURL)\r\n    }\r\n\r\n\r\n    function ShowCart() {\r\n        return (\r\n            <View style={{ height: \"100%\", alignItems: 'center' }}>\r\n                <Text style={{ marginTop: '10%', fontSize: 35, textAlign: 'center', color: 'green' }}>My Cart</Text>\r\n                {console.log(cart)}\r\n                {(cart.length > 0) && cart.reduce((a, b) => b.Quantity ? a + b.Quantity : a, 0) > 0 ?\r\n                    cart.map((item, i) =>\r\n                        (item.Quantity == 0 || !item.Quantity) ? null : <CartCard currentChef={currentChef} key={i} cartDish={item}></CartCard>)\r\n                    :\r\n                    <Text style={{ textAlign: 'center' }}>Your cart is empty</Text>\r\n                }\r\n                {(cart.length > 0) && cart.reduce((a, b) => b.Quantity ? a + b.Quantity : a, 0) > 0 ?\r\n                    <View style={{ marginRight: \"2%\", marginTop: 'auto', marginLeft: 'auto' }}>\r\n                        <View >\r\n                            <Text style={{ fontFamily: 'sans-serif-medium', fontSize: 17, color: 'green' }}> Cart Total: {cart.reduce((a, b) => b.Quantity ? a + (b.Price * b.Quantity) : a, 0)}₪</Text>\r\n                        </View>\r\n                        <View>\r\n                            <Button mode=\"outlined\" style={{ borderRadius: 15, backgroundColor: 'rgb(255,138,87)' }} onPress={modalPop}>\r\n                                <Text style={{ color: 'rgb(255 ,255, 255)', fontWeight: 'bold' }}>Order Now</Text>\r\n                            </Button>\r\n                        </View>\r\n                    </View>\r\n                    : null\r\n\r\n                }\r\n\r\n                <Modal\r\n                    animationType=\"slide\"\r\n                    transparent={true}\r\n                    visible={modalVisible}\r\n                    onRequestClose={() => {\r\n                        Alert.alert(\"Modal has been closed.\");\r\n                        setModalVisible(!modalVisible);\r\n                    }}\r\n\r\n                >\r\n                    <View style={styles.centeredView}>\r\n                        <View style={styles.modalView}>\r\n                            <AntDesign name=\"checkcircleo\" size={35} color=\"rgb(62, 197, 0)\" style={{ paddingBottom: 15 }} />\r\n                            <Text style={styles.modalText}>{currentChef.DisplayName} received your order ! </Text>\r\n                            <Text style={styles.modalText}>{currentOrder.OrderId ? \"Order no #\" + currentOrder.OrderId : null}</Text>\r\n                            <Text style={styles.modalText}>{currentOrder.OrderId ? \"Order time: \" + currentOrder.OrderTime : null}</Text>\r\n                            {currentOrder.OrderDescription?.split(\"; \").map((item, key) =>\r\n                                <Text style={styles.modalText}> {item ? item + \"₪\" : null} </Text>)}\r\n                            <Text style={styles.modalText}> Pick up: {currentChef.Address} <FontAwesome5 name=\"waze\" size={28} color=\"black\" onPress={() => { startNavWaze() }} /> </Text>\r\n                            <Text style={styles.modalText}> Call chef: <Feather name=\"phone-call\" size={28} color=\"black\" onPress={() => { makeCall(currentChef.PNumber) }} /></Text>\r\n                            <Text style={styles.modalTextTotal}>Order Total: {cart.reduce((a, b) => b.Quantity ? a + (b.Price * b.Quantity) : a, 0)}₪</Text>\r\n\r\n                            <Pressable\r\n                                style={[styles.button, styles.buttonClose]}\r\n                                onPress={() => {\r\n                                    setModalVisible(!modalVisible);\r\n                                    setCart([]);\r\n                                }\r\n                                }\r\n                            >\r\n                                <Text style={styles.textStyle}>Ok</Text>\r\n                            </Pressable>\r\n\r\n                            <Text style={styles.textStyle}>Ok</Text>\r\n\r\n                        </View>\r\n                    </View>\r\n                </Modal>\r\n\r\n\r\n            </View>\r\n        );\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <Tab.Navigator\r\n            initialRouteName=\"ShowDishes\"\r\n            activeColor=\"#fff\"\r\n            barStyle={{ backgroundColor: 'rgb(62,197,0)' }}\r\n        >\r\n            <Tab.Screen name=\"ShowDishes\" component={ShowDishes}\r\n                options={{\r\n                    tabBarLabel: 'Menu',\r\n                    tabBarIcon: ({ color }) => (\r\n                        <SimpleLineIcons name=\"book-open\" size={20} color={color} />\r\n                    ),\r\n                }}\r\n            />\r\n            <Tab.Screen name=\"ShowCart\" component={ShowCart}\r\n                options={{\r\n                    tabBarLabel: 'Cart',\r\n                    tabBarIcon: ({ color }) => (\r\n                        <View>\r\n                            <View style={{ position: 'absolute', bottom: 10, right: 20 }}>\r\n                                {cart?.reduce((a, b) => b.Quantity ? a + b.Quantity : a, 0) > 0 ? <Badge textStyle={{fontSize:12, fontWeight:'bold'}} badgeStyle={{width:'auto',height:'auto'}} ref={badgeValue} value={cart?.reduce((a, b) => b.Quantity ? a + b.Quantity : a, 0)} status=\"warning\" /> : null}\r\n                            </View>\r\n                            <AntDesign\r\n                                style={styles.tabIcon}\r\n                                name=\"shoppingcart\"\r\n                                size={20}\r\n                                color={color}\r\n                            />\r\n                        </View>\r\n\r\n                    ),\r\n                }}\r\n            />\r\n        </Tab.Navigator>\r\n    )\r\n}\r\n\r\n\r\nexport default DishesScreen\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n    cartBar: {\r\n        height: 100,\r\n        marginTop: '10%',\r\n        width: '100%',\r\n        backgroundColor: 'green',\r\n    },\r\n    shadow: {\r\n        height: 60,\r\n        width: 370,\r\n        marginTop: 8,\r\n        marginBottom: 5,\r\n        elevation: 10,\r\n        borderRadius: 15,\r\n    },\r\n\r\n    centeredView: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 22\r\n    },\r\n    modalView: {\r\n        margin: 20,\r\n        backgroundColor: \"white\",\r\n        borderRadius: 40,\r\n        padding: 15,\r\n        alignItems: \"center\",\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 2\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 4,\r\n        elevation: 5,\r\n        width: '75%',\r\n\r\n    },\r\n    button: {\r\n        borderRadius: 20,\r\n        padding: 10,\r\n        elevation: 2,\r\n        position: \"absolute\",\r\n        bottom: 8,\r\n        width: 80\r\n    },\r\n    buttonOpen: {\r\n        backgroundColor: \"#F194FF\",\r\n    },\r\n    buttonClose: {\r\n        backgroundColor: \"#2196F3\",\r\n    },\r\n    textStyle: {\r\n        color: \"white\",\r\n        fontWeight: \"bold\",\r\n        textAlign: \"center\"\r\n    },\r\n    modalText: {\r\n        marginBottom: 15,\r\n        textAlign: \"center\",\r\n        fontSize: 14\r\n    },\r\n\r\n    modalTextTotal: {\r\n        marginBottom: 15,\r\n        textAlign: \"center\",\r\n        fontSize: 18,\r\n        borderTopColor: 'black',\r\n        borderTopWidth: 1,\r\n        width: \"100%\",\r\n        paddingTop: \"5%\"\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n})\r\n"]},"metadata":{},"sourceType":"module"}